{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/cmd-main/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const db =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: ['query'],\n  })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = db"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,KACX,gBAAgB,MAAM,IACtB,IAAI,gOAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/cmd-main/src/lib/auth.ts"],"sourcesContent":["import { NextAuthOptions } from \"next-auth\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\nimport { db } from \"@/lib/db\"\nimport bcrypt from \"bcryptjs\"\n\nexport const authOptions: NextAuthOptions = {\n  providers: [\n    CredentialsProvider({\n      name: \"credentials\",\n      credentials: {\n        email: { label: \"Email\", type: \"email\" },\n        password: { label: \"Password\", type: \"password\" }\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) {\n          throw new Error(\"Invalid credentials\")\n        }\n\n        const user = await db.user.findUnique({\n          where: { email: credentials.email },\n          include: {\n            assignedProjects: {\n              include: {\n                project: true\n              }\n            }\n          }\n        })\n\n        if (!user) {\n          throw new Error(\"Invalid credentials\")\n        }\n\n        const isPasswordValid = await bcrypt.compare(\n          credentials.password,\n          user.password\n        )\n\n        if (!isPasswordValid) {\n          throw new Error(\"Invalid credentials\")\n        }\n\n        // Return user data for session\n        return {\n          id: user.id,\n          email: user.email,\n          name: user.name,\n          role: user.role,\n          projectIds: user.assignedProjects.map(ap => ap.projectId),\n          canViewAllProjects: user.canViewAllProjects\n        }\n      }\n    })\n  ],\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.id = user.id\n        token.role = user.role\n        token.projectIds = user.projectIds\n        token.canViewAllProjects = user.canViewAllProjects\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (session.user) {\n        session.user.id = token.id as string\n        session.user.role = token.role as string\n        session.user.projectIds = token.projectIds as string[]\n        session.user.canViewAllProjects = token.canViewAllProjects as boolean\n      }\n      return session\n    }\n  },\n  pages: {\n    signIn: \"/login\",\n    error: \"/login\"\n  },\n  session: {\n    strategy: \"jwt\",\n    maxAge: 30 * 24 * 60 * 60 // 30 days\n  },\n  secret: process.env.NEXTAUTH_SECRET\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;AAEO,MAAM,cAA+B;IAC1C,WAAW;QACT,IAAA,+LAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBACjD,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,kJAAE,CAAC,IAAI,CAAC,UAAU,CAAC;oBACpC,OAAO;wBAAE,OAAO,YAAY,KAAK;oBAAC;oBAClC,SAAS;wBACP,kBAAkB;4BAChB,SAAS;gCACP,SAAS;4BACX;wBACF;oBACF;gBACF;gBAEA,IAAI,CAAC,MAAM;oBACT,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,kBAAkB,MAAM,wKAAM,CAAC,OAAO,CAC1C,YAAY,QAAQ,EACpB,KAAK,QAAQ;gBAGf,IAAI,CAAC,iBAAiB;oBACpB,MAAM,IAAI,MAAM;gBAClB;gBAEA,+BAA+B;gBAC/B,OAAO;oBACL,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,MAAM,KAAK,IAAI;oBACf,MAAM,KAAK,IAAI;oBACf,YAAY,KAAK,gBAAgB,CAAC,GAAG,CAAC,CAAA,KAAM,GAAG,SAAS;oBACxD,oBAAoB,KAAK,kBAAkB;gBAC7C;YACF;QACF;KACD;IACD,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,IAAI,GAAG,KAAK,IAAI;gBACtB,MAAM,UAAU,GAAG,KAAK,UAAU;gBAClC,MAAM,kBAAkB,GAAG,KAAK,kBAAkB;YACpD;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,QAAQ,IAAI,EAAE;gBAChB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;gBAC1B,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;gBAC9B,QAAQ,IAAI,CAAC,UAAU,GAAG,MAAM,UAAU;gBAC1C,QAAQ,IAAI,CAAC,kBAAkB,GAAG,MAAM,kBAAkB;YAC5D;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;QACR,OAAO;IACT;IACA,SAAS;QACP,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK,GAAG,UAAU;IACtC;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/cmd-main/src/app/api/accounting-notes/%5Bid%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\n// GET /api/accounting-notes/[id] - Get single accounting note\r\nexport async function GET(\r\n  req: NextRequest,\r\n  context: { params: Promise<{ id: string }> }\r\n) {\r\n  try {\r\n    const { id } = await context.params\r\n    const normalizedId = id?.toString().trim()\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    if (!normalizedId) {\r\n      return NextResponse.json({ error: \"Invalid accounting note id\" }, { status: 400 })\r\n    }\r\n\r\n    const role = session.user.role as string\r\n\r\n    const note = await db.accountingNote.findUnique({\r\n      where: { id: normalizedId },\r\n      include: {\r\n        unit: {\r\n          include: {\r\n            project: true\r\n          }\r\n        },\r\n        project: true,\r\n        createdByUser: {\r\n          select: {\r\n            id: true,\r\n            name: true,\r\n            email: true\r\n          }\r\n        },\r\n        convertedToExpense: {\r\n          include: {\r\n            recordedByUser: {\r\n              select: {\r\n                id: true,\r\n                name: true,\r\n                email: true\r\n              }\r\n            }\r\n          }\r\n        },\r\n        pmAdvance: {\r\n          include: {\r\n            staff: {\r\n              select: { id: true, name: true }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    if (!note) {\r\n      return NextResponse.json({ error: \"Accounting note not found\" }, { status: 404 })\r\n    }\r\n\r\n    // Check if user has access to this note\r\n    if (role === \"PROJECT_MANAGER\") {\r\n      // PMs can only see notes from their assigned projects\r\n      const assignments = await db.projectAssignment.findMany({\r\n        where: { userId: session.user.id },\r\n        select: { projectId: true }\r\n      })\r\n      const projectIds = assignments.map(a => a.projectId)\r\n      \r\n      if (!projectIds.includes(note.unit.projectId)) {\r\n        return NextResponse.json({ error: \"Forbidden\" }, { status: 403 })\r\n      }\r\n    }\r\n\r\n    return NextResponse.json(note)\r\n  } catch (error) {\r\n    console.error(\"Error fetching accounting note:\", error)\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch accounting note\" },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// PATCH /api/accounting-notes/[id] - Update accounting note (record it)\r\nexport async function PATCH(\r\n  req: NextRequest,\r\n  context: { params: Promise<{ id: string }> }\r\n) {\r\n  try {\r\n    const { id } = await context.params\r\n    const normalizedId = id?.toString().trim()\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    if (!normalizedId) {\r\n      return NextResponse.json({ error: \"Invalid accounting note id\" }, { status: 400 })\r\n    }\r\n\r\n    const role = session.user.role as string\r\n    const userId = session.user.id\r\n\r\n    // Check if note exists\r\n    const existingNote = await db.accountingNote.findUnique({\r\n      where: { id: normalizedId }\r\n    })\r\n\r\n    if (!existingNote) {\r\n      return NextResponse.json({ error: \"Accounting note not found\" }, { status: 404 })\r\n    }\r\n\r\n    const body = await req.json()\r\n    const { status, sourceType, pmAdvanceId } = body\r\n\r\n    // Only Accountant and Admin can record accounting notes\r\n    if (role !== \"ACCOUNTANT\" && role !== \"ADMIN\") {\r\n      return NextResponse.json({ error: \"Forbidden\" }, { status: 403 })\r\n    }\r\n\r\n    // Prepare update data\r\n    const updateData: any = {}\r\n\r\n    if (status === \"CONVERTED\") {\r\n      // Get the unit with project info\r\n      const unit = await db.operationalUnit.findUnique({\r\n        where: { id: existingNote.unitId },\r\n        include: { project: true }\r\n      })\r\n\r\n      if (!unit) {\r\n        return NextResponse.json({ error: \"Unit not found\" }, { status: 404 })\r\n      }\r\n\r\n      // Find the OwnerAssociation for this unit\r\n      let ownerAssociation = await db.ownerAssociation.findUnique({\r\n        where: { unitId: existingNote.unitId }\r\n      })\r\n\r\n      if (!ownerAssociation) {\r\n        ownerAssociation = await db.ownerAssociation.create({\r\n          data: {\r\n            name: `Owner - ${unit.name}`,\r\n            unitId: existingNote.unitId,\r\n            phone: \"\",\r\n            email: \"\"\r\n          }\r\n        })\r\n      }\r\n\r\n      const resolvedSourceType = sourceType ?? existingNote.sourceType ?? \"OFFICE_FUND\"\r\n      const resolvedPmAdvanceId = pmAdvanceId ?? existingNote.pmAdvanceId\r\n\r\n      if (resolvedSourceType === \"PM_ADVANCE\" && !resolvedPmAdvanceId) {\r\n        return NextResponse.json(\r\n          { error: \"PM advance is required when using PM_ADVANCE\" },\r\n          { status: 400 }\r\n        )\r\n      }\r\n\r\n      if (resolvedSourceType === \"PM_ADVANCE\" && resolvedPmAdvanceId) {\r\n        const advance = await db.pMAdvance.findUnique({ where: { id: resolvedPmAdvanceId } })\r\n\r\n        if (!advance) {\r\n          return NextResponse.json({ error: \"PM Advance not found\" }, { status: 404 })\r\n        }\r\n\r\n      }\r\n\r\n      const invoiceNumber = `CLM-${Date.now()}-${unit.code}`\r\n      const invoice = await db.invoice.create({\r\n        data: {\r\n          invoiceNumber,\r\n          type: \"CLAIM\",\r\n          unitId: existingNote.unitId,\r\n          ownerAssociationId: ownerAssociation.id,\r\n          amount: existingNote.amount,\r\n          remainingBalance: existingNote.amount\r\n        }\r\n      })\r\n\r\n      const expense = await db.operationalExpense.create({\r\n        data: {\r\n          unitId: existingNote.unitId,\r\n          description: existingNote.description,\r\n          amount: existingNote.amount,\r\n          sourceType: resolvedSourceType,\r\n          recordedByUserId: userId,\r\n          pmAdvanceId: resolvedSourceType === \"PM_ADVANCE\" ? resolvedPmAdvanceId : null,\r\n          claimInvoiceId: invoice.id\r\n        }\r\n      })\r\n\r\n      if (resolvedSourceType === \"PM_ADVANCE\" && resolvedPmAdvanceId) {\r\n        await db.pMAdvance.update({\r\n          where: { id: resolvedPmAdvanceId },\r\n          data: {\r\n            remainingAmount: {\r\n              decrement: existingNote.amount\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      updateData.status = \"CONVERTED\"\r\n      updateData.convertedAt = new Date()\r\n      updateData.convertedToExpenseId = expense.id\r\n      updateData.sourceType = resolvedSourceType\r\n      updateData.pmAdvanceId = resolvedSourceType === \"PM_ADVANCE\" ? resolvedPmAdvanceId : null\r\n    } else if (status === \"REJECTED\") {\r\n      updateData.status = \"REJECTED\"\r\n      updateData.convertedAt = new Date()\r\n    } else {\r\n      return NextResponse.json({ error: \"Invalid status. Use CONVERTED or REJECTED\" }, { status: 400 })\r\n    }\r\n\r\n    // Update accounting note\r\n    await db.accountingNote.update({\r\n      where: { id: normalizedId },\r\n      data: updateData\r\n    })\r\n\r\n    if (updateData.convertedToExpenseId) {\r\n      await db.operationalExpense.update({\r\n        where: { id: updateData.convertedToExpenseId },\r\n        data: { convertedFromNoteId: updateData.convertedToExpenseId }\r\n      })\r\n    }\r\n\r\n    const refreshedNote = await db.accountingNote.findUnique({\r\n      where: { id: normalizedId },\r\n      include: {\r\n        unit: {\r\n          include: {\r\n            project: true\r\n          }\r\n        },\r\n        createdByUser: {\r\n          select: {\r\n            id: true,\r\n            name: true,\r\n            email: true\r\n          }\r\n        },\r\n        convertedToExpense: {\r\n          include: {\r\n            recordedByUser: {\r\n              select: {\r\n                id: true,\r\n                name: true,\r\n                email: true\r\n              }\r\n            }\r\n          }\r\n        },\r\n        pmAdvance: {\r\n          include: {\r\n            staff: {\r\n              select: { id: true, name: true }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    if (!refreshedNote) {\r\n      return NextResponse.json({ error: \"Accounting note not found\" }, { status: 404 })\r\n    }\r\n\r\n    return NextResponse.json(refreshedNote)\r\n  } catch (error) {\r\n    console.error(\"Error updating accounting note:\", error)\r\n    return NextResponse.json(\r\n      { error: \"Failed to update accounting note\", details: String(error) },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// DELETE /api/accounting-notes/[id] - Delete accounting note (Admin only)\r\nexport async function DELETE(\r\n  req: NextRequest,\r\n  { params }: { params: Promise<{ id: string }> }\r\n) {\r\n  try {\r\n    const { id } = await params\r\n    const session = await getServerSession(authOptions)\r\n\r\n    if (!session) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    const role = session.user.role as string\r\n\r\n    // Only Admin can delete accounting notes\r\n    if (role !== \"ADMIN\") {\r\n      return NextResponse.json({ error: \"Forbidden\" }, { status: 403 })\r\n    }\r\n\r\n    await db.accountingNote.delete({\r\n      where: { id }\r\n    })\r\n\r\n    return NextResponse.json({ message: \"Accounting note deleted successfully\" })\r\n  } catch (error) {\r\n    console.error(\"Error deleting accounting note:\", error)\r\n    return NextResponse.json(\r\n      { error: \"Failed to delete accounting note\" },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}