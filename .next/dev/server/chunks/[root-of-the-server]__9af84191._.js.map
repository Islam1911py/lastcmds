{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/cmd-main/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const db =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: ['query'],\n  })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = db"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,KACX,gBAAgB,MAAM,IACtB,IAAI,gOAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/cmd-main/src/lib/auth.ts"],"sourcesContent":["import { NextAuthOptions } from \"next-auth\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\nimport { db } from \"@/lib/db\"\nimport bcrypt from \"bcryptjs\"\n\nexport const authOptions: NextAuthOptions = {\n  providers: [\n    CredentialsProvider({\n      name: \"credentials\",\n      credentials: {\n        email: { label: \"Email\", type: \"email\" },\n        password: { label: \"Password\", type: \"password\" }\n      },\n      async authorize(credentials) {\n        if (!credentials?.email || !credentials?.password) {\n          throw new Error(\"Invalid credentials\")\n        }\n\n        const user = await db.user.findUnique({\n          where: { email: credentials.email },\n          include: {\n            assignedProjects: {\n              include: {\n                project: true\n              }\n            }\n          }\n        })\n\n        if (!user) {\n          throw new Error(\"Invalid credentials\")\n        }\n\n        const isPasswordValid = await bcrypt.compare(\n          credentials.password,\n          user.password\n        )\n\n        if (!isPasswordValid) {\n          throw new Error(\"Invalid credentials\")\n        }\n\n        // Return user data for session\n        return {\n          id: user.id,\n          email: user.email,\n          name: user.name,\n          role: user.role,\n          projectIds: user.assignedProjects.map(ap => ap.projectId),\n          canViewAllProjects: user.canViewAllProjects\n        }\n      }\n    })\n  ],\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.id = user.id\n        token.role = user.role\n        token.projectIds = user.projectIds\n        token.canViewAllProjects = user.canViewAllProjects\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (session.user) {\n        session.user.id = token.id as string\n        session.user.role = token.role as string\n        session.user.projectIds = token.projectIds as string[]\n        session.user.canViewAllProjects = token.canViewAllProjects as boolean\n      }\n      return session\n    }\n  },\n  pages: {\n    signIn: \"/login\",\n    error: \"/login\"\n  },\n  session: {\n    strategy: \"jwt\",\n    maxAge: 30 * 24 * 60 * 60 // 30 days\n  },\n  secret: process.env.NEXTAUTH_SECRET\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;AAEO,MAAM,cAA+B;IAC1C,WAAW;QACT,IAAA,+LAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBACjD,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,kJAAE,CAAC,IAAI,CAAC,UAAU,CAAC;oBACpC,OAAO;wBAAE,OAAO,YAAY,KAAK;oBAAC;oBAClC,SAAS;wBACP,kBAAkB;4BAChB,SAAS;gCACP,SAAS;4BACX;wBACF;oBACF;gBACF;gBAEA,IAAI,CAAC,MAAM;oBACT,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,kBAAkB,MAAM,wKAAM,CAAC,OAAO,CAC1C,YAAY,QAAQ,EACpB,KAAK,QAAQ;gBAGf,IAAI,CAAC,iBAAiB;oBACpB,MAAM,IAAI,MAAM;gBAClB;gBAEA,+BAA+B;gBAC/B,OAAO;oBACL,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,MAAM,KAAK,IAAI;oBACf,MAAM,KAAK,IAAI;oBACf,YAAY,KAAK,gBAAgB,CAAC,GAAG,CAAC,CAAA,KAAM,GAAG,SAAS;oBACxD,oBAAoB,KAAK,kBAAkB;gBAC7C;YACF;QACF;KACD;IACD,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,IAAI,GAAG,KAAK,IAAI;gBACtB,MAAM,UAAU,GAAG,KAAK,UAAU;gBAClC,MAAM,kBAAkB,GAAG,KAAK,kBAAkB;YACpD;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,QAAQ,IAAI,EAAE;gBAChB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;gBAC1B,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI;gBAC9B,QAAQ,IAAI,CAAC,UAAU,GAAG,MAAM,UAAU;gBAC1C,QAAQ,IAAI,CAAC,kBAAkB,GAAG,MAAM,kBAAkB;YAC5D;YACA,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;QACR,OAAO;IACT;IACA,SAAS;QACP,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK,GAAG,UAAU;IACtC;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/cmd-main/src/app/api/operational-units/%5Bid%5D/owner/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getServerSession } from \"next-auth\"\r\n\r\nimport { authOptions } from \"@/lib/auth\"\r\nimport { db } from \"@/lib/db\"\r\n\r\ntype ContactType = \"PHONE\" | \"EMAIL\"\r\n\r\nconst OWNER_ROLES = new Set([\"ADMIN\", \"ACCOUNTANT\"])\r\n\r\nconst prisma = db as any\r\n\r\ntype ContactInput = {\r\n  id?: string\r\n  type: ContactType\r\n  value: string\r\n  label?: string | null\r\n  isPrimary?: boolean\r\n  _delete?: boolean\r\n}\r\n\r\nconst normalizeContacts = (contacts: ContactInput[]) => {\r\n  const sanitized: ContactInput[] = contacts\r\n    .filter((contact) =>\r\n      (contact.type === \"PHONE\" || contact.type === \"EMAIL\") && contact.value?.trim()\r\n    )\r\n    .map((contact) => ({\r\n      id: contact.id,\r\n      type: contact.type,\r\n      value: contact.value.trim(),\r\n      label: contact.label?.trim() ?? null,\r\n      isPrimary: Boolean(contact.isPrimary),\r\n      _delete: Boolean(contact._delete),\r\n    }))\r\n\r\n  const byType: Record<ContactType, ContactInput[]> = {\r\n    PHONE: [] as ContactInput[],\r\n    EMAIL: [] as ContactInput[],\r\n  }\r\n  for (const contact of sanitized) {\r\n    if (contact.type === \"PHONE\") {\r\n      byType.PHONE.push(contact)\r\n    } else {\r\n      byType.EMAIL.push(contact)\r\n    }\r\n  }\r\n\r\n  (Object.keys(byType) as ContactType[]).forEach((typeKey) => {\r\n    const entries = byType[typeKey]\r\n    if (!entries.length) return\r\n    const primary = entries.find((c) => c.isPrimary && !c._delete)\r\n    if (!primary) {\r\n      const first = entries.find((c) => !c._delete)\r\n      if (first) first.isPrimary = true\r\n    } else {\r\n      entries.forEach((c) => {\r\n        if (c !== primary) c.isPrimary = false\r\n      })\r\n    }\r\n  })\r\n\r\n  return sanitized\r\n}\r\n\r\n// GET /api/operational-units/[id]/owner\r\nexport async function GET(\r\n  req: NextRequest,\r\n  { params }: { params: Promise<{ id: string }> }\r\n) {\r\n  try {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    const { id } = await params\r\n\r\n    const ownerAssociation = await prisma.ownerAssociation.findUnique({\r\n      where: { unitId: id },\r\n      include: {\r\n        contacts: {\r\n          orderBy: { createdAt: \"asc\" },\r\n        },\r\n      },\r\n    })\r\n\r\n    return NextResponse.json(ownerAssociation ?? null)\r\n  } catch (error) {\r\n    console.error(\"Error fetching owner association:\", error)\r\n    return NextResponse.json(\r\n      { error: \"Failed to fetch owner association\", details: String(error) },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// PUT /api/operational-units/[id]/owner\r\nexport async function PUT(\r\n  req: NextRequest,\r\n  { params }: { params: Promise<{ id: string }> }\r\n) {\r\n  try {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session || !OWNER_ROLES.has(session.user.role)) {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    const { id } = await params\r\n    const body = await req.json()\r\n    const {\r\n      name,\r\n      email,\r\n      phone,\r\n      contacts: rawContacts = [],\r\n    }: {\r\n      name?: string | null\r\n      email?: string | null\r\n      phone?: string | null\r\n      contacts?: ContactInput[]\r\n    } = body\r\n    const contacts = Array.isArray(rawContacts) ? rawContacts : []\r\n    const sanitizedName =\r\n      typeof name === \"string\" ? name.trim() : name ?? undefined\r\n    const sanitizedEmail =\r\n      typeof email === \"string\" ? email.trim() : email ?? undefined\r\n    const sanitizedPhone =\r\n      typeof phone === \"string\" ? phone.trim() : phone ?? undefined\r\n\r\n    if (\r\n      sanitizedName === undefined &&\r\n      sanitizedEmail === undefined &&\r\n      sanitizedPhone === undefined &&\r\n      !contacts?.length\r\n    ) {\r\n      return NextResponse.json(\r\n        { error: \"Provide at least one field to update\" },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    const unitExists = await db.operationalUnit.findUnique({\r\n      where: { id },\r\n      select: { id: true },\r\n    })\r\n\r\n    if (!unitExists) {\r\n      return NextResponse.json({ error: \"Unit not found\" }, { status: 404 })\r\n    }\r\n\r\n    let ownerAssociation = await prisma.ownerAssociation.findUnique({\r\n      where: { unitId: id },\r\n      include: {\r\n        contacts: {\r\n          orderBy: { createdAt: \"asc\" },\r\n        },\r\n      },\r\n    })\r\n\r\n    if (!ownerAssociation) {\r\n      ownerAssociation = await prisma.ownerAssociation.create({\r\n        data: {\r\n          name: sanitizedName || \"New Owner Association\",\r\n          email: sanitizedEmail ?? null,\r\n          phone: sanitizedPhone ?? null,\r\n          unit: { connect: { id } },\r\n        },\r\n        include: { contacts: true },\r\n      })\r\n    }\r\n\r\n    const normalizedContacts = normalizeContacts(contacts)\r\n\r\n    const updates = normalizedContacts.filter((c) => c.id && !c._delete)\r\n    const creations = normalizedContacts.filter((c) => !c.id && !c._delete)\r\n    const deletions = normalizedContacts\r\n      .filter((c) => c.id && c._delete)\r\n      .map((c) => c.id as string)\r\n\r\n    await db.$transaction(async (tx) => {\r\n      await tx.ownerAssociation.update({\r\n        where: { id: ownerAssociation!.id },\r\n        data: {\r\n          ...(sanitizedName !== undefined && sanitizedName !== null && {\r\n            name: sanitizedName,\r\n          }),\r\n          ...(sanitizedEmail !== undefined && { email: sanitizedEmail ?? null }),\r\n          ...(sanitizedPhone !== undefined && { phone: sanitizedPhone ?? null }),\r\n        },\r\n      })\r\n\r\n      for (const contactId of deletions) {\r\n        await (tx as any).ownerAssociationContact.delete({\r\n          where: { id: contactId },\r\n        })\r\n      }\r\n\r\n      for (const contact of updates) {\r\n        await (tx as any).ownerAssociationContact.update({\r\n          where: { id: contact.id! },\r\n          data: {\r\n            type: contact.type,\r\n            value: contact.value,\r\n            label: contact.label ?? null,\r\n            isPrimary: Boolean(contact.isPrimary),\r\n          },\r\n        })\r\n      }\r\n\r\n      for (const contact of creations) {\r\n        await (tx as any).ownerAssociationContact.create({\r\n          data: {\r\n            ownerAssociationId: ownerAssociation!.id,\r\n            type: contact.type,\r\n            value: contact.value,\r\n            label: contact.label ?? null,\r\n            isPrimary: Boolean(contact.isPrimary),\r\n          },\r\n        })\r\n      }\r\n\r\n      // Re-sync primary phone/email for backwards compatibility\r\n      const refreshedContacts = await (tx as any).ownerAssociationContact.findMany({\r\n        where: { ownerAssociationId: ownerAssociation!.id },\r\n        orderBy: { createdAt: \"asc\" },\r\n      })\r\n\r\n      const primaryPhone = refreshedContacts.find((c) => c.type === \"PHONE\" && c.isPrimary)\r\n      const primaryEmail = refreshedContacts.find((c) => c.type === \"EMAIL\" && c.isPrimary)\r\n\r\n      await tx.ownerAssociation.update({\r\n        where: { id: ownerAssociation!.id },\r\n        data: {\r\n          phone:\r\n            primaryPhone?.value ??\r\n            (sanitizedPhone === undefined ? ownerAssociation!.phone : sanitizedPhone ?? null),\r\n          email:\r\n            primaryEmail?.value ??\r\n            (sanitizedEmail === undefined ? ownerAssociation!.email : sanitizedEmail ?? null),\r\n        },\r\n      })\r\n    })\r\n\r\n    const refreshed = await prisma.ownerAssociation.findUnique({\r\n      where: { id: ownerAssociation.id },\r\n      include: {\r\n        contacts: {\r\n          orderBy: { createdAt: \"asc\" },\r\n        },\r\n      },\r\n    })\r\n\r\n    return NextResponse.json(refreshed)\r\n  } catch (error) {\r\n    console.error(\"Error updating owner association:\", error)\r\n    return NextResponse.json(\r\n      { error: \"Failed to update owner association\", details: String(error) },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// DELETE /api/operational-units/[id]/owner\r\nexport async function DELETE(\r\n  req: NextRequest,\r\n  { params }: { params: Promise<{ id: string }> }\r\n) {\r\n  try {\r\n    const session = await getServerSession(authOptions)\r\n    if (!session || session.user.role !== \"ADMIN\") {\r\n      return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 })\r\n    }\r\n\r\n    const { id } = await params\r\n\r\n    const ownerAssociation = await prisma.ownerAssociation.findUnique({\r\n      where: { unitId: id },\r\n      select: { id: true },\r\n    })\r\n\r\n    if (!ownerAssociation?.id) {\r\n      return NextResponse.json({ success: true })\r\n    }\r\n\r\n    await prisma.ownerAssociation.delete({\r\n      where: { id: ownerAssociation.id },\r\n    })\r\n\r\n    return NextResponse.json({ success: true })\r\n  } catch (error) {\r\n    console.error(\"Error deleting owner association:\", error)\r\n    return NextResponse.json(\r\n      { error: \"Failed to delete owner association\", details: String(error) },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}