module.exports=[77726,a=>{"use strict";var b=a.i(43713),c=a.i(41662);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("bg-secondary [&_tr]:border-b [&_tr]:border-border",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("border-b border-border hover:bg-[#F9FAFB] data-[state=selected]:bg-muted transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-3 text-right align-middle font-semibold text-[15px] whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("px-3 py-3 align-middle whitespace-nowrap text-[14px] text-foreground text-right [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},84177,a=>{"use strict";var b=a.i(43713),c=a.i(41662);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",a),...d})}a.s(["Skeleton",()=>d])},57684,a=>{"use strict";var b=a.i(43713),c=a.i(41662);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-4 rounded-[12px] border border-border p-4 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-4",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-4",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},72760,a=>{"use strict";let b=(0,a.i(90306).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],72760)},74509,a=>{"use strict";let b=(0,a.i(90306).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],74509)},68861,a=>{"use strict";var b=a.i(43713),c=a.i(68599),d=a.i(84642),e=a.i(22488),f=a.i(74509),g=a.i(50063),h=a.i(72760),i=a.i(57684),j=a.i(63395),k=a.i(84177),l=a.i(77726),m=a.i(48421),n=a.i(59627),o=a.i(61977),p=a.i(20179),q=a.i(84194);function r(){let{data:a}=(0,d.useSession)(),{toast:r}=(0,q.useToast)(),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)({name:""});(0,c.useEffect)(()=>{E()},[]);let E=async()=>{try{v(!0);let a=await fetch("/api/project-types");if(!a.ok)throw Error("Failed to fetch");let b=await a.json();t(b)}catch(a){console.error("Error:",a),r({title:"خطأ",description:"فشل تحميل أنواع المشاريع",variant:"destructive"})}finally{v(!1)}},F=async a=>{if(a.preventDefault(),!C.name.trim())return void r({title:"خطأ",description:"أدخل اسم نوع المشروع",variant:"destructive"});try{let a=y?`/api/project-types/${y}`:"/api/project-types";if(!(await fetch(a,{method:y?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C.name})})).ok)throw Error("Failed to save");r({title:"نجاح",description:y?"تم تحديث نوع المشروع":"تم إضافة نوع المشروع الجديد"}),x(!1),H(),E()}catch(a){r({title:"خطأ",description:"فشل حفظ نوع المشروع",variant:"destructive"})}},G=async()=>{if(A)try{if(!(await fetch(`/api/project-types/${A}`,{method:"DELETE"})).ok)throw Error("Failed to delete");r({title:"نجاح",description:"تم حذف نوع المشروع"}),B(null),E()}catch(a){r({title:"خطأ",description:"فشل حذف نوع المشروع",variant:"destructive"})}},H=()=>{D({name:""}),z(null)},I=a=>{a||H(),x(a)};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"أنواع المشاريع"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"إدارة أنواع المشاريع في النظام"})]}),(0,b.jsxs)(m.Dialog,{open:w,onOpenChange:I,children:[(0,b.jsx)(m.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(j.Button,{children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4 ml-2"}),"إضافة نوع مشروع جديد"]})}),(0,b.jsxs)(m.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{children:y?"تعديل نوع المشروع":"إضافة نوع مشروع جديد"}),(0,b.jsx)(m.DialogDescription,{children:y?"قم بتعديل معلومات نوع المشروع":"أضف نوع مشروع جديد إلى النظام"})]}),(0,b.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Label,{htmlFor:"name",children:"اسم نوع المشروع *"}),(0,b.jsx)(n.Input,{id:"name",value:C.name,onChange:a=>D({...C,name:a.target.value}),placeholder:"مثال: سكني، صيدلية، مول"})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>I(!1),children:"إلغاء"}),(0,b.jsx)(j.Button,{type:"submit",children:y?"تحديث":"إضافة"})]})]})]})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"قائمة أنواع المشاريع"})}),(0,b.jsx)(i.CardContent,{children:u?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)(k.Skeleton,{className:"h-12"},c))}):0===s.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(h.AlertCircle,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"لم يتم إضافة أنواع مشاريع بعد"})]}):(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"الاسم"}),(0,b.jsx)(l.TableHead,{children:"تاريخ الإنشاء"}),(0,b.jsx)(l.TableHead,{children:"الإجراءات"})]})}),(0,b.jsx)(l.TableBody,{children:s.map(a=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(l.TableCell,{children:new Date(a.createdAt).toLocaleDateString("ar-EG")}),(0,b.jsxs)(l.TableCell,{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{size:"sm",variant:"outline",onClick:()=>{z(a.id),D({name:a.name}),x(!0)},children:(0,b.jsx)(f.Edit2,{className:"h-4 w-4"})}),(0,b.jsx)(j.Button,{size:"sm",variant:"destructive",onClick:()=>B(a.id),children:(0,b.jsx)(g.Trash2,{className:"h-4 w-4"})})]})]},a.id))})]})})]}),(0,b.jsx)(p.AlertDialog,{open:!!A,onOpenChange:a=>!a&&B(null),children:(0,b.jsxs)(p.AlertDialogContent,{children:[(0,b.jsx)(p.AlertDialogTitle,{children:"تأكيد الحذف"}),(0,b.jsx)(p.AlertDialogDescription,{children:"هل أنت متأكد من رغبتك في حذف هذا النوع؟ هذا الإجراء لا يمكن التراجع عنه."}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(p.AlertDialogCancel,{children:"إلغاء"}),(0,b.jsx)(p.AlertDialogAction,{onClick:G,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"حذف"})]})]})})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=Desktop_cmd-main_231f28d6._.js.map