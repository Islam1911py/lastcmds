{"version":3,"sources":["../../../../../../Desktop/cmd-main/src/components/ui/dialog.tsx","../../../../../../Desktop/cmd-main/src/components/ui/badge.tsx","../../../../../../Desktop/cmd-main/src/components/ui/card.tsx","../../../../../../Desktop/cmd-main/node_modules/%40radix-ui/number/src/number.ts","../../../../../../Desktop/cmd-main/node_modules/%40radix-ui/react-use-previous/src/use-previous.tsx","../../../../../../Desktop/cmd-main/src/app/dashboard/accountant/accounting-notes/page.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-4 rounded-[12px] border border-border p-4 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-4 [.border-t]:pt-4\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","function clamp(value: number, [min, max]: [number, number]): number {\n  return Math.min(max, Math.max(min, value));\n}\n\nexport { clamp };\n","import * as React from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = React.useRef({ value, previous: value });\n\n  // We compare values before making an update to ensure that\n  // a change has been made. This ensures the previous value is\n  // persisted correctly between renders.\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\n\nexport { usePrevious };\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useSession } from \"next-auth/react\"\nimport { useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle\n} from \"@/components/ui/dialog\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\n\ninterface AccountingNote {\n  id: string\n  description: string\n  amount: number\n  status: string\n  projectId: string\n  unitId: string\n  project?: { name: string }\n  unit?: { name: string; code: string }\n  createdAt: string\n}\n\ninterface PMAdvance {\n  id: string\n  amount: number\n  remainingAmount: number\n  description: string\n}\n\nexport default function AccountingNotesPage() {\n  const { data: session } = useSession()\n  const router = useRouter()\n  const { toast } = useToast()\n\n  const [notes, setNotes] = useState<AccountingNote[]>([])\n  const [pmAdvances, setPMAdvances] = useState<PMAdvance[]>([])\n  const [loading, setLoading] = useState(true)\n  const [selectedNote, setSelectedNote] = useState<AccountingNote | null>(null)\n  const [dialogOpen, setDialogOpen] = useState(false)\n  const [sourceType, setSourceType] = useState(\"OFFICE_FUND\")\n  const [selectedPMAdvance, setSelectedPMAdvance] = useState(\"\")\n  const [recording, setRecording] = useState(false)\n\n  useEffect(() => {\n    if (session?.user?.role !== \"ACCOUNTANT\" && session?.user?.role !== \"ADMIN\") {\n      router.push(\"/dashboard\")\n      return\n    }\n\n    fetchData()\n  }, [session, router])\n\n  const fetchData = async () => {\n    try {\n      setLoading(true)\n      const [notesRes, pmRes] = await Promise.all([\n        fetch(\"/api/accounting-notes\"),\n        fetch(\"/api/technician-payments?type=advance\")\n      ])\n\n      if (notesRes.ok) {\n        const notesData = await notesRes.json()\n        setNotes(Array.isArray(notesData) ? notesData : notesData.notes || [])\n      }\n\n      if (pmRes.ok) {\n        const pmData = await pmRes.json()\n        setPMAdvances(Array.isArray(pmData) ? pmData : pmData.advances || [])\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error)\n      toast({\n        title: \"خطأ\",\n        description: \"فشل في تحميل البيانات\",\n        variant: \"destructive\"\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleRecord = async () => {\n    if (!selectedNote) return\n\n    try {\n      setRecording(true)\n\n      const payload = {\n        noteId: selectedNote.id,\n        sourceType,\n        ...(sourceType === \"PM_ADVANCE\" && selectedPMAdvance && { pmAdvanceId: selectedPMAdvance })\n      }\n\n      const response = await fetch(`/api/accounting-notes`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload)\n      })\n\n      if (!response.ok) {\n        const error = await response.json()\n        throw new Error(error.error || \"Failed to record note\")\n      }\n\n      const result = await response.json()\n\n      toast({\n        title: \"نجح\",\n        description: `تم تحويل الملاحظة إلى فاتورة: ${result.invoiceNumber}`\n      })\n\n      setDialogOpen(false)\n      setSelectedNote(null)\n      setSourceType(\"OFFICE_FUND\")\n      setSelectedPMAdvance(\"\")\n      fetchData()\n    } catch (error) {\n      toast({\n        title: \"خطأ\",\n        description: error instanceof Error ? error.message : \"فشل في التسجيل\",\n        variant: \"destructive\"\n      })\n    } finally {\n      setRecording(false)\n    }\n  }\n\n  const pendingNotes = notes.filter(n => n.status === \"PENDING\")\n  const convertedNotes = notes.filter(n => n.status === \"CONVERTED\")\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <p>جاري التحميل...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold\">ملاحظات محاسبية</h1>\n        <p className=\"text-gray-500\">إدارة النفقات التشغيلية المعلقة</p>\n      </div>\n\n      {/* Pending Notes */}\n      <div>\n        <h2 className=\"text-xl font-semibold mb-4\">\n          ملاحظات معلقة ({pendingNotes.length})\n        </h2>\n        {pendingNotes.length === 0 ? (\n          <Card className=\"p-6 text-center text-gray-500\">\n            لا توجد ملاحظات معلقة\n          </Card>\n        ) : (\n          <div className=\"grid gap-4\">\n            {pendingNotes.map(note => (\n              <Card key={note.id} className=\"p-4\">\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <h3 className=\"font-semibold\">{note.project?.name}</h3>\n                      <span className=\"text-sm text-gray-500\">- {note.unit?.name}</span>\n                    </div>\n                    <p className=\"text-gray-600 mb-2\">{note.description}</p>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(note.createdAt).toLocaleDateString(\"ar-EG\")}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {note.amount.toLocaleString(\"ar-EG\")} ج.م\n                    </p>\n                    <Badge className=\"mt-2\">معلقة</Badge>\n                  </div>\n                </div>\n                <Button\n                  onClick={() => {\n                    setSelectedNote(note)\n                    setDialogOpen(true)\n                  }}\n                  className=\"mt-4 w-full\"\n                >\n                  تسجيل وتحويل لفاتورة\n                </Button>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Converted Notes */}\n      {convertedNotes.length > 0 && (\n        <div>\n          <h2 className=\"text-xl font-semibold mb-4\">\n            ملاحظات محولة ({convertedNotes.length})\n          </h2>\n          <div className=\"grid gap-4\">\n            {convertedNotes.map(note => (\n              <Card key={note.id} className=\"p-4 opacity-75\">\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <h3 className=\"font-semibold\">{note.project?.name}</h3>\n                      <span className=\"text-sm text-gray-500\">- {note.unit?.name}</span>\n                    </div>\n                    <p className=\"text-gray-600 mb-2\">{note.description}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-2xl font-bold\">{note.amount.toLocaleString(\"ar-EG\")} ج.م</p>\n                    <Badge variant=\"secondary\" className=\"mt-2\">\n                      محولة\n                    </Badge>\n                  </div>\n                </div>\n              </Card>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Record Dialog */}\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>تسجيل الملاحظة المحاسبية</DialogTitle>\n            <DialogDescription>\n              اختر مصدر التمويل لهذه النفقة\n            </DialogDescription>\n          </DialogHeader>\n\n          {selectedNote && (\n            <div className=\"space-y-4\">\n              <div className=\"bg-gray-50 p-4 rounded\">\n                <p className=\"text-sm text-gray-600\">الوصف</p>\n                <p className=\"font-semibold\">{selectedNote.description}</p>\n                <p className=\"text-sm text-gray-600 mt-2\">المبلغ</p>\n                <p className=\"text-2xl font-bold\">\n                  {selectedNote.amount.toLocaleString(\"ar-EG\")} ج.م\n                </p>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">\n                  مصدر التمويل\n                </label>\n                <Select value={sourceType} onValueChange={setSourceType}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"OFFICE_FUND\">صندوق المكتب</SelectItem>\n                    <SelectItem value=\"PM_ADVANCE\">سلفة مدير المشروع</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {sourceType === \"PM_ADVANCE\" && (\n                <div>\n                  <label className=\"block text-sm font-semibold mb-2\">\n                    السلفة\n                  </label>\n                  <Select value={selectedPMAdvance} onValueChange={setSelectedPMAdvance}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"اختر سلفة\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {pmAdvances\n                        .filter(pm => pm.remainingAmount >= selectedNote.amount)\n                        .map(pm => (\n                          <SelectItem key={pm.id} value={pm.id}>\n                            {pm.description} ({pm.remainingAmount.toLocaleString(\"ar-EG\")} ج.م متبقي)\n                          </SelectItem>\n                        ))}\n                    </SelectContent>\n                  </Select>\n                  {pmAdvances.filter(pm => pm.remainingAmount >= selectedNote.amount)\n                    .length === 0 && (\n                    <p className=\"text-sm text-red-600 mt-2\">\n                      لا توجد سلفات بمبلغ كافي\n                    </p>\n                  )}\n                </div>\n              )}\n\n              <div className=\"flex gap-3 pt-4\">\n                <Button\n                  onClick={() => setDialogOpen(false)}\n                  variant=\"outline\"\n                  disabled={recording}\n                >\n                  إلغاء\n                </Button>\n                <Button\n                  onClick={handleRecord}\n                  disabled={recording || (sourceType === \"PM_ADVANCE\" && !selectedPMAdvance)}\n                  className=\"flex-1\"\n                >\n                  {recording ? \"جاري التسجيل...\" : \"تسجيل وتحويل\"}\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"wDAGA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAO,CACd,GAAG,EAC+C,EAClD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAoB,CAAA,CAAC,YAAU,SAAU,GAAG,CAAK,EAC3D,CAEA,SAAS,EAAc,CACrB,GAAG,EACkD,EACrD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAuB,CAAA,CAAC,YAAU,iBAAkB,GAAG,CAAK,EACtE,CAEA,SAAS,EAAa,CACpB,GAAG,EACiD,EACpD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAsB,CAAA,CAAC,YAAU,gBAAiB,GAAG,CAAK,EACpE,CAQA,SAAS,EAAc,WACrB,CAAS,CACT,GAAG,EACkD,EACrD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAuB,CAAA,CACtB,YAAU,iBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,yJACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAc,CACrB,WAAS,UACT,CAAQ,iBACR,GAAkB,CAAI,CACtB,GAAG,EAGJ,EACC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,CAAa,YAAU,0BACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAuB,CAAA,CACtB,YAAU,iBACV,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EACT,8WACA,GAED,GAAG,CAAK,WAER,EACA,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAqB,CAAA,CACpB,YAAU,eACV,UAAU,8WAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAA,GACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mBAAU,kBAMtC,CAEA,SAAS,EAAa,WAAE,CAAS,CAAE,GAAG,EAAoC,EACxE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,gBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,+CAAgD,GAC7D,GAAG,CAAK,EAGf,CAEA,SAAS,EAAa,WAAE,CAAS,CAAE,GAAG,EAAoC,EACxE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,gBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,yDACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAY,WACnB,CAAS,CACT,GAAG,EACgD,EACnD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAqB,CAAA,CACpB,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,qCAAsC,GACnD,GAAG,CAAK,EAGf,CAEA,SAAS,EAAkB,WACzB,CAAS,CACT,GAAG,EACsD,EACzD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAA2B,CAAA,CAC1B,YAAU,qBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gCAAiC,GAC9C,GAAG,CAAK,EAGf,oMChIA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAgB,CAAA,EAAA,EAAA,GAAG,AAAH,EACpB,iZACA,CACE,SAAU,CACR,QAAS,CACP,QACE,iFACF,UACE,uFACF,YACE,4KACF,QACE,wEACJ,CACF,EACA,gBAAiB,CACf,QAAS,SACX,CACF,GAGF,SAAS,EAAM,WACb,CAAS,SACT,CAAO,SACP,GAAU,CAAK,CACf,GAAG,EAEuD,EAC1D,IAAM,EAAO,EAAU,EAAA,IAAI,CAAG,OAE9B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,YAAU,QACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,EAAc,SAAE,CAAQ,GAAI,GACzC,GAAG,CAAK,EAGf,+DCzCA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAK,WAAE,CAAS,CAAE,GAAG,EAAoC,EAChE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,OACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,qGACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAW,WAAE,CAAS,CAAE,GAAG,EAAoC,EACtE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,cACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,6JACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAoC,EACrE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,6BAA8B,GAC3C,GAAG,CAAK,EAGf,CAEA,SAAS,EAAgB,WAAE,CAAS,CAAE,GAAG,EAAoC,EAC3E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,mBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gCAAiC,GAC9C,GAAG,CAAK,EAGf,CAeA,SAAS,EAAY,WAAE,CAAS,CAAE,GAAG,EAAoC,EACvE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,OAAQ,GACrB,GAAG,CAAK,EAGf,8HCvEA,SAAS,EAAM,CAAA,CAAe,CAAC,EAAK,EAAG,CAAA,CAA6B,AAClE,OAAO,KAAK,GAAA,CAAI,EAAK,KAAK,GAAA,CAAI,EAAK,GACrC,EAD0C,CAAC,2CCD3C,IAAA,EAAuB,EAAA,CAAA,CAAA,EAAX,KAEZ,MAFuB,GAEd,EAAe,CAAA,EAAU,AAChC,IAAM,EAAY,EAAA,MAAA,CAAO,OAAE,EAAO,SAAU,CAAM,CAAC,EAKnD,OAAa,EAAA,OAAA,CAAQ,KACf,CADqB,CACjB,OAAA,CAAQ,KAAA,GAAU,IACxB,EAAI,CAD2B,MAC3B,CAAQ,QAAA,CAAW,EAAI,OAAA,CAAQ,KAAA,CACnC,EAAI,OAAA,CAAQ,KAAA,CAAQ,GAEf,EAAI,OAAA,CAAQ,QAAA,EAClB,CAAC,EAAM,CACZ,EADW,mECZX,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OA2Be,SAAS,IACtB,GAAM,CAAE,KAAM,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IAC9B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAEpB,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,EAAE,EACjD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,EAAE,EACtD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,MAClE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACvC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,eACvC,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACrD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE3C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,AAAI,GAAS,MAAM,OAAS,cAAgB,GAAS,MAAM,OAAS,QAClE,CAD2E,CACpE,IAAI,CAAC,cAId,GACF,EAAG,CAAC,EAAS,EAAO,EAEpB,IAAM,EAAY,UAChB,GAAI,CACF,GAAW,GACX,GAAM,CAAC,EAAU,EAAM,CAAG,MAAM,QAAQ,GAAG,CAAC,CAC1C,MAAM,yBACN,MAAM,yCACP,EAED,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAY,MAAM,EAAS,IAAI,GACrC,EAAS,MAAM,OAAO,CAAC,GAAa,EAAY,EAAU,KAAK,EAAI,EAAE,CACvE,CAEA,GAAI,EAAM,EAAE,CAAE,CACZ,IAAM,EAAS,MAAM,EAAM,IAAI,GAC/B,EAAc,MAAM,OAAO,CAAC,GAAU,EAAS,EAAO,QAAQ,EAAI,EAAE,CACtE,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,uBAAwB,GACtC,EAAM,CACJ,MAAO,MACP,YAAa,wBACb,QAAS,aACX,EACF,QAAU,CACR,GAAW,EACb,CACF,EAEM,EAAe,UACnB,GAAK,CAAD,CAEJ,GAAI,CACF,GAAa,GAEb,EALiB,EAKX,EAAU,CACd,OAAQ,EAAa,EAAE,YACvB,EACA,GAAmB,eAAf,GAA+B,GAAqB,CAAE,YAAa,CAAkB,CAAC,AAC5F,EAEM,EAAW,MAAM,MAAM,CAAC,qBAAqB,CAAC,CAAE,CACpD,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,EACvB,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,EACjC,OAAM,AAAI,MAAM,EAAM,KAAK,EAAI,wBACjC,CAEA,IAAM,EAAS,MAAM,EAAS,IAAI,GAElC,EAAM,CACJ,MAAO,MACP,YAAa,CAAC,8BAA8B,EAAE,EAAO,aAAa,CAAA,CAAE,AACtE,GAEA,GAAc,GACd,EAAgB,MAChB,EAAc,eACd,EAAqB,IACrB,GACF,CAAE,MAAO,EAAO,CACd,EAAM,CACJ,MAAO,MACP,YAAa,aAAiB,MAAQ,EAAM,OAAO,CAAG,iBACtD,QAAS,aACX,EACF,QAAU,CACR,GAAa,EACf,CACF,EAEM,EAAe,EAAM,MAAM,CAAC,GAAkB,YAAb,EAAE,MAAM,EACzC,EAAiB,EAAM,MAAM,CAAC,GAAkB,cAAb,EAAE,MAAM,SAEjD,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,sBAMP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BAAqB,oBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,uCAI/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,uCAA6B,kBACzB,EAAa,MAAM,CAAC,OAEb,IAAxB,EAAa,MAAM,CAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yCAAgC,0BAIhD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAa,GAAG,CAAC,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAe,UAAU,gBAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yBAAiB,EAAK,OAAO,EAAE,OAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCAAwB,KAAG,EAAK,IAAI,EAAE,WAExD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,EAAK,WAAW,GACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCACV,IAAI,KAAK,EAAK,SAAS,EAAE,kBAAkB,CAAC,cAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,8CACV,EAAK,MAAM,CAAC,cAAc,CAAC,SAAS,UAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,gBAAO,gBAG5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,KACP,EAAgB,GAChB,GAAc,EAChB,EACA,UAAU,uBACX,2BAzBQ,EAAK,EAAE,QAmCzB,EAAe,MAAM,CAAG,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,uCAA6B,kBACzB,EAAe,MAAM,CAAC,OAExC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAe,GAAG,CAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAe,UAAU,0BAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yBAAiB,EAAK,OAAO,EAAE,OAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCAAwB,KAAG,EAAK,IAAI,EAAE,WAExD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,EAAK,WAAW,MAErD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,EAAK,MAAM,CAAC,cAAc,CAAC,SAAS,UACvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,gBAAO,iBAXvC,EAAK,EAAE,QAuB1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAY,aAAc,WACtC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,qCAKpB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,UACrC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAiB,EAAa,WAAW,GACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,WAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BACV,EAAa,MAAM,CAAC,cAAc,CAAC,SAAS,aAIjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,iBAGpD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAY,cAAe,YACxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,uBAAc,iBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,sBAAa,+BAKrB,eAAf,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,WAGpD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAmB,cAAe,YAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,gBAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EACE,MAAM,CAAC,GAAM,EAAG,eAAe,EAAI,EAAa,MAAM,EACtD,GAAG,CAAC,GACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAa,MAAO,EAAG,EAAE,WACjC,EAAG,WAAW,CAAC,KAAG,EAAG,eAAe,CAAC,cAAc,CAAC,SAAS,gBAD/C,EAAG,EAAE,QAM7B,AACa,MADF,MAAM,CAAC,GAAM,EAAG,eAAe,EAAI,EAAa,MAAM,EAC/D,MAAM,EACP,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,gCAO/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,GAAc,GAC7B,QAAQ,UACR,SAAU,WACX,UAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EACT,SAAU,GAA6B,eAAf,GAA+B,CAAC,EACxD,UAAU,kBAET,EAAY,kBAAoB,8BASnD"}