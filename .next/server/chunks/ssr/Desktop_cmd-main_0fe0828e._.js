module.exports=[77726,a=>{"use strict";var b=a.i(43713),c=a.i(41662);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("bg-secondary [&_tr]:border-b [&_tr]:border-border",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("border-b border-border hover:bg-[#F9FAFB] data-[state=selected]:bg-muted transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-3 text-right align-middle font-semibold text-[15px] whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("px-3 py-3 align-middle whitespace-nowrap text-[14px] text-foreground text-right [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},57684,a=>{"use strict";var b=a.i(43713),c=a.i(41662);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-4 rounded-[12px] border border-border p-4 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-4",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-4",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},65189,a=>{"use strict";var b=a.i(43713),c=a.i(48070),d=a.i(38550),e=a.i(41662);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},72760,a=>{"use strict";let b=(0,a.i(90306).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],72760)},66128,a=>{"use strict";var b=a.i(43713),c=a.i(38550),d=a.i(41662);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}a.s(["Alert",()=>f,"AlertDescription",()=>g])},79059,a=>{"use strict";let b=(0,a.i(90306).default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);a.s(["Loader",()=>b],79059)},28627,a=>{"use strict";let b=(0,a.i(90306).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],28627)},21706,a=>{"use strict";var b=a.i(43713),c=a.i(68599),d=a.i(30737),e=a.i(71949),f=a.i(73329),g=a.i(12477),h=a.i(58080),i=a.i(8579),j=a.i(45158),k=a.i(40523),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:m="horizontal",dir:n,activationMode:o="automatic",...q}=a,r=(0,i.useDirection)(n),[s,t]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:l});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:s,onValueChange:t,orientation:m,dir:r,activationMode:o,children:(0,b.jsx)(h.Primitive.div,{dir:r,"data-orientation":m,...q,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w;var A=a.i(41662);function B({className:a,...c}){return(0,b.jsx)(r,{"data-slot":"tabs",className:(0,A.cn)("flex flex-col gap-2",a),...c})}function C({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"tabs-list",className:(0,A.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...c})}function D({className:a,...c}){return(0,b.jsx)(v,{"data-slot":"tabs-trigger",className:(0,A.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}function E({className:a,...c}){return(0,b.jsx)(x,{"data-slot":"tabs-content",className:(0,A.cn)("flex-1 outline-none",a),...c})}a.s(["Tabs",()=>B,"TabsContent",()=>E,"TabsList",()=>C,"TabsTrigger",()=>D],21706)},64450,a=>{"use strict";var b=a.i(43713),c=a.i(68599),d=a.i(17545),e=a.i(84642),f=a.i(72760),g=a.i(79059),h=a.i(28627),i=a.i(66128),j=a.i(63395),k=a.i(57684),l=a.i(65189),m=a.i(21706),n=a.i(77726);function o(){let{data:a}=(0,e.useSession)(),o=(0,d.useRouter)(),p=(0,d.useParams)().id,[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&y()},[a,p]);let y=async()=>{try{v(!0),x(null);let a=await fetch(`/api/residents/${p}`);if(!a.ok)throw Error("Failed to fetch resident");let b=await a.json();r(b);let c=await fetch(`/api/tickets?residentId=${p}`);if(c.ok){let a=await c.json();t(Array.isArray(a)?a:[])}}catch(a){console.error("Error:",a),x(a instanceof Error?a.message:"Failed to load resident")}finally{v(!1)}};return u?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsx)(g.Loader,{className:"h-8 w-8 text-emerald-500 animate-spin"})}):w||!q?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(j.Button,{variant:"ghost",onClick:()=>o.back(),className:"gap-2 text-zinc-300 hover:text-white hover:bg-zinc-800",children:[(0,b.jsx)(h.ChevronLeft,{className:"h-4 w-4"}),"Back"]}),(0,b.jsxs)(i.Alert,{variant:"destructive",children:[(0,b.jsx)(f.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(i.AlertDescription,{children:w||"Resident not found"})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(j.Button,{variant:"ghost",onClick:()=>o.back(),className:"gap-2 text-zinc-300 hover:text-white hover:bg-zinc-800",children:[(0,b.jsx)(h.ChevronLeft,{className:"h-4 w-4"}),"Back"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:q.name}),(0,b.jsxs)("p",{className:"text-zinc-400 mt-1",children:[q.unit.code," - ",q.unit.name]})]})]})}),(0,b.jsxs)(m.Tabs,{defaultValue:"info",className:"w-full",children:[(0,b.jsxs)(m.TabsList,{className:"bg-zinc-900 border-b border-zinc-800 rounded-none w-full justify-start",children:[(0,b.jsx)(m.TabsTrigger,{value:"info",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-emerald-500 rounded-none",children:"Information"}),(0,b.jsx)(m.TabsTrigger,{value:"tickets",className:"data-[state=active]:bg-transparent data-[state=active]:border-b-2 data-[state=active]:border-emerald-500 rounded-none",children:"Tickets"})]}),(0,b.jsx)(m.TabsContent,{value:"info",className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(k.Card,{className:"bg-zinc-900 border-zinc-800",children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsx)(k.CardTitle,{className:"text-white",children:"Contact Information"})}),(0,b.jsxs)(k.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Email"}),(0,b.jsx)("p",{className:"text-white font-semibold break-all",children:q.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Phone"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:q.phone||"Not provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Address"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:q.address||"Not provided"})]})]})]}),(0,b.jsxs)(k.Card,{className:"bg-zinc-900 border-zinc-800",children:[(0,b.jsx)(k.CardHeader,{children:(0,b.jsx)(k.CardTitle,{className:"text-white",children:"Unit Information"})}),(0,b.jsxs)(k.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Operational Unit"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:q.unit.name}),(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:q.unit.code})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Project"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:q.unit.project.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Status"}),(0,b.jsx)(l.Badge,{className:`mt-1 ${"ACTIVE"===q.status?"bg-green-500/10 border-green-500/20 text-green-400":"INACTIVE"===q.status?"bg-yellow-500/10 border-yellow-500/20 text-yellow-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:"ACTIVE"===q.status?"نشط":"INACTIVE"===q.status?"غير نشط":"انتقل"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Member Since"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:new Date(q.createdAt).toLocaleDateString()})]})]})]})]})}),(0,b.jsx)(m.TabsContent,{value:"tickets",className:"space-y-6",children:0===s.length?(0,b.jsx)(k.Card,{className:"bg-zinc-900 border-zinc-800",children:(0,b.jsx)(k.CardContent,{className:"pt-6",children:(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-zinc-300",children:"No tickets for this resident"})})})}):(0,b.jsx)(k.Card,{className:"bg-zinc-900 border-zinc-800",children:(0,b.jsx)(k.CardContent,{className:"pt-6",children:(0,b.jsxs)(n.Table,{children:[(0,b.jsx)(n.TableHeader,{children:(0,b.jsxs)(n.TableRow,{className:"border-zinc-700 hover:bg-transparent",children:[(0,b.jsx)(n.TableHead,{className:"text-zinc-400",children:"Title"}),(0,b.jsx)(n.TableHead,{className:"text-zinc-400",children:"Status"}),(0,b.jsx)(n.TableHead,{className:"text-zinc-400",children:"Priority"}),(0,b.jsx)(n.TableHead,{className:"text-zinc-400",children:"Created"}),(0,b.jsx)(n.TableHead,{className:"text-zinc-400",children:"Action"})]})}),(0,b.jsx)(n.TableBody,{children:s.map(a=>(0,b.jsxs)(n.TableRow,{className:"border-zinc-700 hover:bg-zinc-800/50",children:[(0,b.jsx)(n.TableCell,{className:"text-white",children:a.title}),(0,b.jsx)(n.TableCell,{children:(0,b.jsx)(l.Badge,{className:`border ${(a=>{switch(a?.toLowerCase()){case"resolved":case"completed":return"bg-emerald-500/10 border-emerald-500/20 text-emerald-400";case"in-progress":case"open":return"bg-blue-500/10 border-blue-500/20 text-blue-400";case"pending":return"bg-yellow-500/10 border-yellow-500/20 text-yellow-400";default:return"bg-zinc-700 border-zinc-600 text-zinc-300"}})(a.status)}`,children:a.status})}),(0,b.jsx)(n.TableCell,{children:(0,b.jsx)(l.Badge,{className:`border ${(a=>{switch(a?.toLowerCase()){case"high":return"bg-red-500/10 border-red-500/20 text-red-400";case"medium":return"bg-yellow-500/10 border-yellow-500/20 text-yellow-400";case"low":return"bg-green-500/10 border-green-500/20 text-green-400";default:return"bg-zinc-700 border-zinc-600 text-zinc-300"}})(a.priority)}`,children:a.priority})}),(0,b.jsx)(n.TableCell,{className:"text-zinc-400",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)(n.TableCell,{children:(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>o.push(`/dashboard/tickets/${a.id}`),className:"text-emerald-400 hover:bg-zinc-800",children:"View"})})]},a.id))})]})})})})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=Desktop_cmd-main_0fe0828e._.js.map