{"version":3,"sources":["../../../../../../Desktop/cmd-main/src/app/dashboard/invoices/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useMemo } from \"react\"\nimport { useSession } from \"next-auth/react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport { DollarSign, AlertCircle, Loader, X, Calendar, User, Building2, TrendingDown, CheckCircle2, Clock, AlertTriangle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\n\ninterface Project {\n  id: string\n  name: string\n}\n\ninterface OperationalUnit {\n  id: string\n  name: string\n  code: string\n  projectId: string\n  project: Project\n}\n\ninterface Invoice {\n  id: string\n  invoiceNumber: string\n  type: string\n  amount: number\n  totalPaid: number\n  remainingBalance: number\n  isPaid: boolean\n  issuedAt: string\n  unitId: string\n  unit: OperationalUnit\n  ownerAssociation: {\n    id: string\n    name: string\n  }\n  payments: Array<{\n    id: string\n    amount: number\n  }>\n  expenses?: Array<{\n    id: string\n    date: string\n    description: string\n    amount: number\n  }>\n}\n\ninterface UnitContext {\n  id: string\n  name: string\n  code: string\n  isActive?: boolean\n  monthlyManagementFee?: number\n  monthlyBillingDay?: number\n  project?: {\n    id: string\n    name: string\n  }\n  _count?: {\n    residents: number\n    tickets: number\n    deliveryOrders: number\n  }\n}\n\nexport default function InvoicesPage() {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const unitId = searchParams.get(\"unit\")\n\n  const [invoices, setInvoices] = useState<Invoice[]>([])\n  const [projects, setProjects] = useState<Project[]>([])\n  const [loading, setLoading] = useState(true)\n  const [mounted, setMounted] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [projectFilter, setProjectFilter] = useState(\"all\")\n  const [statusFilter, setStatusFilter] = useState(\"all\")\n  const [selectedInvoice, setSelectedInvoice] = useState<Invoice | null>(null)\n  const [showPaymentModal, setShowPaymentModal] = useState(false)\n  const [paymentAmount, setPaymentAmount] = useState(\"\")\n  const [paymentLoading, setPaymentLoading] = useState(false)\n  const [paymentError, setPaymentError] = useState<string | null>(null)\n  const [unitContext, setUnitContext] = useState<UnitContext | null>(null)\n  const [unitLoading, setUnitLoading] = useState(false)\n  \n  // Monthly billing state\n  const [dueUnits, setDueUnits] = useState<any[]>([])\n  const [billingLoading, setBillingLoading] = useState(false)\n  const [showDueUnits, setShowDueUnits] = useState(false)\n  const [generatingInvoices, setGeneratingInvoices] = useState(false)\n  const [generationResult, setGenerationResult] = useState<any>(null)\n\n  const isAuthorized = session?.user?.role === \"ADMIN\" || session?.user?.role === \"ACCOUNTANT\"\n\n  useEffect(() => {\n    setMounted(true)\n    if (status === \"loading\" || !session) return\n\n    if (!isAuthorized) {\n      router.replace(\"/dashboard/unauthorized\")\n      return\n    }\n\n    fetchInvoices()\n    fetchProjects()\n    fetchDueUnits()\n  }, [session, status, isAuthorized, router])\n\n  useEffect(() => {\n    if (!unitId) {\n      setUnitContext(null)\n      return\n    }\n\n    const fetchUnit = async () => {\n      try {\n        setUnitLoading(true)\n        const res = await fetch(`/api/operational-units/${unitId}`)\n        if (!res.ok) throw new Error(\"Failed to fetch unit\")\n        const data = await res.json()\n        setUnitContext(data)\n      } catch (err) {\n        console.error(\"Error fetching unit:\", err)\n        setUnitContext(null)\n      } finally {\n        setUnitLoading(false)\n      }\n    }\n\n    fetchUnit()\n  }, [unitId])\n\n  const fetchInvoices = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      const res = await fetch(\"/api/invoices\")\n      if (!res.ok) throw new Error(\"فشل تحميل الفواتير\")\n      const data = await res.json()\n      setInvoices(data)\n      \n      // Update selectedInvoice if open\n      if (selectedInvoice) {\n        const updated = data.find((i: Invoice) => i.id === selectedInvoice.id)\n        if (updated) setSelectedInvoice(updated)\n      }\n    } catch (err) {\n      console.error(\"Error:\", err)\n      setError(\"فشل تحميل الفواتير\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchProjects = async () => {\n    try {\n      const res = await fetch(\"/api/projects\")\n      if (res.ok) {\n        const data = await res.json()\n        setProjects(data)\n      }\n    } catch (error) {\n      console.error(\"Error fetching projects:\", error)\n    }\n  }\n\n  const fetchDueUnits = async () => {\n    try {\n      setBillingLoading(true)\n      const res = await fetch(\"/api/invoices/generate-monthly\")\n      if (res.ok) {\n        const data = await res.json()\n        setDueUnits(data.units || [])\n      }\n    } catch (error) {\n      console.error(\"Error fetching due units:\", error)\n    } finally {\n      setBillingLoading(false)\n    }\n  }\n\n  const handleGenerateMonthlyInvoices = async () => {\n    if (!confirm(`هل تريد توليد ${dueUnits.length} فاتورة شهرية؟`)) return\n\n    try {\n      setGeneratingInvoices(true)\n      setGenerationResult(null)\n      \n      const res = await fetch(\"/api/invoices/generate-monthly\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      })\n\n      if (!res.ok) throw new Error(\"فشل توليد الفواتير\")\n      \n      const data = await res.json()\n      setGenerationResult(data)\n      \n      // Refresh invoices and due units\n      await fetchInvoices()\n      await fetchDueUnits()\n      \n      // Show result message\n      if (data.summary.invoicesCreated > 0) {\n        alert(`✅ تم توليد ${data.summary.invoicesCreated} فاتورة بنجاح!`)\n      } else {\n        alert(\"⚠️ لا توجد فواتير جديدة للتوليد\")\n      }\n    } catch (err) {\n      console.error(\"Error:\", err)\n      alert(\"❌ فشل توليد الفواتير\")\n    } finally {\n      setGeneratingInvoices(false)\n    }\n  }\n\n  const handleAddPayment = async () => {\n    if (!selectedInvoice || !paymentAmount || parseFloat(paymentAmount) <= 0) {\n      setPaymentError(\"الرجاء إدخال مبلغ صحيح\")\n      return\n    }\n\n    const amount = Math.round(parseFloat(paymentAmount) * 100) / 100\n    const remaining = selectedInvoice.remainingBalance\n\n    // Allow small tolerance for floating point precision\n    if (amount > remaining + 0.01) {\n      setPaymentError(`الحد الأقصى: ${remaining.toFixed(2)} ج.م`)\n      return\n    }\n\n    try {\n      setPaymentLoading(true)\n      setPaymentError(null)\n\n      const res = await fetch(\"/api/payments\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ amount, invoiceId: selectedInvoice.id }),\n      })\n\n      if (!res.ok) {\n        const error = await res.json()\n        throw new Error(error.error || \"فشل إضافة الدفعة\")\n      }\n\n      // Refresh invoices\n      await fetchInvoices()\n      \n      // Reset form\n      setPaymentAmount(\"\")\n      setShowPaymentModal(false)\n    } catch (err) {\n      console.error(\"Error:\", err)\n      setPaymentError(err instanceof Error ? err.message : \"فشل إضافة الدفعة\")\n    } finally {\n      setPaymentLoading(false)\n    }\n  }\n\n  // Get payment status\n  const getPaymentStatus = (invoice: Invoice) => {\n    // استخدم isPaid و totalPaid من الـ database - لا تحسب من payments array\n    if (invoice.isPaid) return { status: \"مدفوع بالكامل\", color: \"success\", icon: \"✓\" }\n    \n    if (invoice.totalPaid === 0 || invoice.totalPaid === undefined) return { status: \"غير مدفوع\", color: \"destructive\", icon: \"X\" }\n    return { status: \"دفع جزئي\", color: \"warning\", icon: \"⏳\" }\n  }\n\n  // Filtered invoices\n  const filteredInvoices = useMemo(() => {\n    let filtered = invoices\n\n    if (unitId) {\n      filtered = filtered.filter(inv => inv.unitId === unitId)\n    }\n\n    if (searchTerm) {\n      filtered = filtered.filter(inv =>\n        inv.invoiceNumber.includes(searchTerm) ||\n        inv.unit?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        inv.unit?.code.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        inv.ownerAssociation?.name.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    if (projectFilter !== \"\" && projectFilter !== \"all\") {\n      filtered = filtered.filter(inv => inv.unit?.project?.id === projectFilter)\n    }\n\n    if (statusFilter !== \"\" && statusFilter !== \"all-status\") {\n      filtered = filtered.filter(inv => {\n        if (statusFilter === \"paid\") return inv.isPaid\n        if (statusFilter === \"unpaid\") return inv.totalPaid === 0\n        if (statusFilter === \"partial\") return !inv.isPaid && inv.totalPaid > 0\n        return true\n      })\n    }\n\n    return filtered.sort((a, b) => new Date(b.issuedAt).getTime() - new Date(a.issuedAt).getTime())\n  }, [invoices, searchTerm, projectFilter, statusFilter, unitId])\n\n  // Summary stats\n  const stats = useMemo(() => {\n    const total = filteredInvoices.reduce((sum, inv) => sum + inv.amount, 0)\n    const paid = filteredInvoices.reduce((sum, inv) => sum + inv.totalPaid, 0)\n    const remaining = total - paid\n    return {\n      count: filteredInvoices.length,\n      total: total.toFixed(2),\n      paid: paid.toFixed(2),\n      remaining: Math.max(0, remaining).toFixed(2) // Never show negative\n    }\n  }, [filteredInvoices])\n\n  if (!mounted) return null\n\n  if (session && !isAuthorized) {\n    return null\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <Loader className=\"h-8 w-8 animate-spin text-emerald-500\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex-1 p-8 lg:p-12 overflow-y-auto\">\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n        {/* Header */}\n        <div>\n          <h1 className=\"text-3xl font-semibold text-gray-900 mb-2 flex items-center gap-3\">\n            <div className=\"p-2.5 bg-gray-100 rounded-md\">\n              <DollarSign className=\"h-6 w-6 text-gray-600\" />\n            </div>\n            الفواتير\n          </h1>\n          <p className=\"text-gray-500\">\n            {unitId ? \"عرض فواتير الوحدة المحددة\" : \"إدارة والعرض كل الفواتير والمدفوعات\"}\n          </p>\n        </div>\n\n        {unitId && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-base\">تفاصيل الوحدة</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {unitLoading ? (\n                <div className=\"flex items-center gap-2 text-gray-500\">\n                  <Loader className=\"h-4 w-4 animate-spin\" />\n                  جاري تحميل بيانات الوحدة...\n                </div>\n              ) : unitContext ? (\n                <div className=\"flex flex-wrap items-center gap-3\">\n                  <Badge variant=\"outline\" className=\"bg-gray-50 border-gray-200 text-gray-700\">\n                    {unitContext.code}\n                  </Badge>\n                  <span className=\"font-semibold text-gray-900\">{unitContext.name}</span>\n                  {unitContext.project?.name && (\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {unitContext.project.name}\n                    </Badge>\n                  )}\n                  {unitContext.isActive !== undefined && (\n                    <Badge\n                      className={\n                        unitContext.isActive\n                          ? \"bg-[#ECFDF5] border border-[#16A34A]/20 text-[#16A34A]\"\n                          : \"bg-[#FEF2F2] border border-[#DC2626]/20 text-[#DC2626]\"\n                      }\n                      variant=\"outline\"\n                    >\n                      {unitContext.isActive ? \"نشطة\" : \"غير نشطة\"}\n                    </Badge>\n                  )}\n                </div>\n              ) : (\n                <p className=\"text-gray-500\">تعذر تحميل بيانات الوحدة</p>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {error && (\n          <Alert variant=\"destructive\" className=\"bg-red-500/10 border-red-500/20\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-red-400\">{error}</AlertDescription>\n          </Alert>\n        )}\n\n        {/* Monthly Billing Card */}\n        {(session?.user?.role === \"ADMIN\" || session?.user?.role === \"ACCOUNTANT\") && (\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-base flex items-center gap-2 text-gray-900\">\n                <Calendar className=\"h-5 w-5 text-gray-600\" />\n                الفواتير الشهرية المستحقة اليوم\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              {billingLoading ? (\n                <div className=\"flex items-center gap-2 text-gray-500\">\n                  <Loader className=\"h-4 w-4 animate-spin\" />\n                  جاري التحقق...\n                </div>\n              ) : dueUnits.length > 0 ? (\n                <>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-2 bg-gray-100 rounded-md\">\n                        <AlertTriangle className=\"h-5 w-5 text-gray-600\" />\n                      </div>\n                      <div>\n                        <p className=\"text-2xl font-semibold text-gray-900\">{dueUnits.length}</p>\n                        <p className=\"text-sm text-gray-500\">وحدة مستحقة للفوترة</p>\n                      </div>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setShowDueUnits(!showDueUnits)}\n                        className=\"border-gray-300 text-gray-700 hover:bg-gray-50\"\n                      >\n                        {showDueUnits ? \"إخفاء\" : \"عرض\"} التفاصيل\n                      </Button>\n                      <Button\n                        onClick={handleGenerateMonthlyInvoices}\n                        disabled={generatingInvoices}\n                        className=\"bg-[#2563EB] hover:bg-[#1D4ED8] text-white\"\n                      >\n                        {generatingInvoices ? (\n                          <>\n                            <Loader className=\"h-4 w-4 mr-2 animate-spin\" />\n                            جاري التوليد...\n                          </>\n                        ) : (\n                          <>\n                            <DollarSign className=\"h-4 w-4 mr-2\" />\n                            توليد الفواتير الآن\n                          </>\n                        )}\n                      </Button>\n                    </div>\n                  </div>\n\n                  {showDueUnits && (\n                    <div className=\"border border-[#E5E7EB] rounded-[12px] overflow-hidden\">\n                      <Table>\n                        <TableHeader>\n                          <TableRow className=\"hover:bg-transparent\">\n                            <TableHead>الوحدة</TableHead>\n                            <TableHead>المشروع</TableHead>\n                            <TableHead>المالك</TableHead>\n                            <TableHead>الرسوم الشهرية</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {dueUnits.map((unit) => (\n                            <TableRow key={unit.id}>\n                              <TableCell className=\"font-semibold text-gray-900\">\n                                {unit.code} - {unit.name}\n                              </TableCell>\n                              <TableCell className=\"text-gray-500\">{unit.projectName}</TableCell>\n                              <TableCell className=\"text-gray-500\">{unit.ownerName}</TableCell>\n                              <TableCell className=\"font-semibold text-gray-900\">\n                                {unit.monthlyFee?.toFixed(2)} ج.م\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"flex items-center gap-2 text-gray-500\">\n                  <CheckCircle2 className=\"h-5 w-5 text-gray-600\" />\n                  <span>لا توجد وحدات مستحقة للفوترة اليوم</span>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Total Invoices */}\n          <div className=\"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm\">\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"p-2.5 bg-gray-100 rounded-md\">\n                <DollarSign className=\"w-5 h-5 text-gray-600\" />\n              </div>\n            </div>\n            <p className=\"text-gray-500 text-sm mb-1\">إجمالي الفواتير</p>\n            <p className=\"text-3xl font-semibold text-gray-900\">{stats.count}</p>\n          </div>\n\n          {/* Total Amount */}\n          <div className=\"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm\">\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"p-2.5 bg-gray-100 rounded-md\">\n                <TrendingDown className=\"w-5 h-5 text-gray-600\" />\n              </div>\n            </div>\n            <p className=\"text-gray-500 text-sm mb-1\">الإجمالي</p>\n            <p className=\"text-3xl font-semibold text-gray-900\">{stats.total}</p>\n            <p className=\"text-xs text-gray-500 mt-2\">جنيه مصري</p>\n          </div>\n\n          {/* Paid Amount */}\n          <div className=\"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm\">\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"p-2.5 bg-gray-100 rounded-md\">\n                <CheckCircle2 className=\"w-5 h-5 text-gray-600\" />\n              </div>\n            </div>\n            <p className=\"text-gray-500 text-sm mb-1\">المدفوع</p>\n            <p className=\"text-3xl font-semibold text-gray-900\">{stats.paid}</p>\n            <p className=\"text-xs text-gray-500 mt-2\">جنيه مصري</p>\n          </div>\n\n          {/* Remaining Amount */}\n          <div className=\"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm\">\n            <div className=\"flex items-start justify-between mb-3\">\n              <div className=\"p-2.5 bg-gray-100 rounded-md\">\n                <AlertTriangle className=\"w-5 h-5 text-gray-600\" />\n              </div>\n            </div>\n            <p className=\"text-gray-500 text-sm mb-1\">المتبقي</p>\n            <p className=\"text-3xl font-semibold text-gray-900\">{stats.remaining}</p>\n            <p className=\"text-xs text-gray-500 mt-2\">جنيه مصري</p>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm\">\n          <h2 className=\"text-base font-semibold text-gray-900 mb-4\">البحث والتصفية</h2>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"text-sm font-medium text-gray-500 block mb-2\">البحث</label>\n              <Input\n                placeholder=\"ابحث برقم الفاتورة أو الوحدة...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"bg-white border-gray-200 text-gray-900 placeholder:text-gray-400 focus:border-[#2563EB]\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium text-gray-500 block mb-2\">المشروع</label>\n                <Select value={projectFilter || \"default\"} onValueChange={(value) => {\n                  if (value === \"default\") setProjectFilter(\"all\")\n                  else setProjectFilter(value)\n                }}>\n                  <SelectTrigger className=\"bg-white border-gray-200 text-gray-900\">\n                    <SelectValue placeholder=\"جميع المشاريع\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"default\">جميع المشاريع</SelectItem>\n                    {projects.map(p => (\n                      <SelectItem key={p.id} value={p.id}>{p.name}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <label className=\"text-sm font-medium text-gray-500 block mb-2\">الحالة</label>\n                <Select value={statusFilter || \"default\"} onValueChange={(value) => {\n                  if (value === \"default\") setStatusFilter(\"all\")\n                  else setStatusFilter(value)\n                }}>\n                  <SelectTrigger className=\"bg-white border-gray-200 text-gray-900\">\n                    <SelectValue placeholder=\"جميع الحالات\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"default\">جميع الفواتير</SelectItem>\n                    <SelectItem value=\"paid\">مدفوع</SelectItem>\n                    <SelectItem value=\"unpaid\">غير مدفوع</SelectItem>\n                    <SelectItem value=\"partial\">دفع جزئي</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {(searchTerm || projectFilter !== \"all\" || statusFilter !== \"all\") && (\n              <Button\n                variant=\"outline\"\n                onClick={() => {\n                  setSearchTerm(\"\")\n                  setProjectFilter(\"all\")\n                  setStatusFilter(\"all\")\n                }}\n                className=\"w-full border-gray-300 text-gray-700 hover:bg-gray-50\"\n              >\n                مسح التصفية\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {/* Invoices Table */}\n        <div className=\"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm overflow-x-auto\">\n          {filteredInvoices.length === 0 ? (\n            <div className=\"text-center py-12 text-gray-500\">\n              <DollarSign className=\"h-12 w-12 mx-auto opacity-50 mb-2 text-gray-400\" />\n              <p>لا توجد فواتير</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow className=\"hover:bg-transparent\">\n                    <TableHead>رقم الفاتورة</TableHead>\n                    <TableHead>الوحدة</TableHead>\n                    <TableHead>المالك</TableHead>\n                    <TableHead>التاريخ</TableHead>\n                    <TableHead className=\"text-right\">الإجمالي</TableHead>\n                    <TableHead className=\"text-right\">المدفوع</TableHead>\n                    <TableHead className=\"text-right\">المتبقي</TableHead>\n                    <TableHead>الحالة</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredInvoices.map(invoice => {\n                    const { status, color } = getPaymentStatus(invoice)\n\n                    return (\n                      <TableRow \n                        key={invoice.id} \n                        className=\"cursor-pointer\"\n                        onClick={() => router.push(`/dashboard/invoices/${invoice.id}`)}\n                      >\n                        <TableCell className=\"font-semibold text-gray-900\">{invoice.invoiceNumber}</TableCell>\n                        <TableCell>\n                          <Badge variant=\"outline\" className=\"bg-gray-50 border-gray-200 text-gray-700\">\n                            {invoice.unit?.code}\n                          </Badge>\n                        </TableCell>\n                        <TableCell className=\"text-gray-500\">{invoice.ownerAssociation?.name}</TableCell>\n                        <TableCell className=\"text-sm text-gray-500\">\n                          {new Date(invoice.issuedAt).toLocaleDateString('ar-EG')}\n                        </TableCell>\n                        <TableCell className=\"text-right font-semibold text-gray-900\">\n                          {invoice.amount.toFixed(2)} ج.م\n                        </TableCell>\n                        <TableCell className=\"text-right text-gray-900 font-semibold\">\n                          {invoice.totalPaid.toFixed(2)} ج.م\n                        </TableCell>\n                        <TableCell className=\"text-right text-gray-900 font-semibold\">\n                          {Math.max(0, invoice.remainingBalance).toFixed(2)} ج.م\n                        </TableCell>\n                        <TableCell>\n                          <Badge\n                            className={\n                              invoice.isPaid\n                                ? \"bg-[#ECFDF5] border border-[#16A34A]/20 text-[#16A34A]\"\n                                : invoice.totalPaid === 0 \n                                  ? \"bg-[#FEF2F2] border border-[#DC2626]/20 text-[#DC2626]\"\n                                  : \"bg-[#FFFBEB] border border-[#F59E0B]/20 text-[#F59E0B]\"\n                            }\n                            variant=\"outline\"\n                          >\n                            {status}\n                          </Badge>\n                        </TableCell>\n                      </TableRow>\n                    )\n                  })}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </div>\n\n        {/* Invoice Detail Modal */}\n        {selectedInvoice && (\n          <Dialog open={!!selectedInvoice} onOpenChange={() => setSelectedInvoice(null)}>\n            <DialogContent className=\"max-w-2xl bg-white\">\n              <DialogHeader>\n                <DialogTitle className=\"text-xl text-gray-900 flex items-center gap-2\">\n                  <DollarSign className=\"h-6 w-6 text-gray-600\" />\n                  تفاصيل الفاتورة\n                </DialogTitle>\n              </DialogHeader>\n\n              <div className=\"space-y-6 mt-6\">\n                {/* Invoice Info */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-base font-semibold text-gray-900\">معلومات الفاتورة</h3>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1\">رقم الفاتورة</p>\n                      <p className=\"text-gray-900 font-semibold\">{selectedInvoice.invoiceNumber}</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1\">النوع</p>\n                      <p className=\"text-gray-900 font-semibold\">{selectedInvoice.type}</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1 flex items-center gap-1\">\n                        <Calendar className=\"h-4 w-4\" /> التاريخ\n                      </p>\n                      <p className=\"text-gray-900 font-semibold\">{new Date(selectedInvoice.issuedAt).toLocaleDateString('ar-EG')}</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1 flex items-center gap-1\">\n                        <User className=\"h-4 w-4\" /> المالك\n                      </p>\n                      <p className=\"text-gray-900 font-semibold\">{selectedInvoice.ownerAssociation?.name}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Unit Info */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-base font-semibold text-gray-900\">معلومات الوحدة</h3>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1 flex items-center gap-1\">\n                        <Building2 className=\"h-4 w-4\" /> الوحدة\n                      </p>\n                      <p className=\"text-gray-900 font-semibold\">{selectedInvoice.unit?.name}</p>\n                      <p className=\"text-gray-500 text-xs mt-1\">({selectedInvoice.unit?.code})</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1\">المشروع</p>\n                      <p className=\"text-gray-900 font-semibold\">{selectedInvoice.unit?.project?.name}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Payment Summary */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-base font-semibold text-gray-900\">ملخص الدفع</h3>\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1\">الإجمالي</p>\n                      <p className=\"text-gray-900 font-semibold text-xl\">{selectedInvoice.amount.toFixed(2)}</p>\n                      <p className=\"text-gray-500 text-xs\">ج.م</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1\">المدفوع</p>\n                      <p className=\"text-gray-900 font-semibold text-xl\">{selectedInvoice.totalPaid.toFixed(2)}</p>\n                      <p className=\"text-gray-500 text-xs\">ج.م</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                      <p className=\"text-gray-500 text-sm mb-1\">المتبقي</p>\n                      <p className=\"text-gray-900 font-semibold text-xl\">{Math.max(0, selectedInvoice.remainingBalance).toFixed(2)}</p>\n                      <p className=\"text-gray-500 text-xs\">ج.م</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Expenses Table */}\n                {selectedInvoice.expenses && selectedInvoice.expenses.length > 0 && (\n                  <div className=\"space-y-4\">\n                    <h3 className=\"text-base font-semibold text-gray-900\">تفاصيل النفقات</h3>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full text-sm\">\n                        <thead>\n                          <tr className=\"border-b border-[#E5E7EB] bg-[#F3F4F6]\">\n                            <th className=\"text-right text-gray-900 font-semibold py-3 px-4 text-[15px]\">التاريخ</th>\n                            <th className=\"text-right text-gray-900 font-semibold py-3 px-4 text-[15px]\">الوصف</th>\n                            <th className=\"text-right text-gray-900 font-semibold py-3 px-4 text-[15px]\">المبلغ</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {selectedInvoice.expenses.map((expense) => (\n                            <tr key={expense.id} className=\"border-b border-[#E5E7EB] hover:bg-[#F9FAFB]\">\n                              <td className=\"text-gray-500 py-3 px-4 text-[14px]\">\n                                {new Date(expense.date).toLocaleDateString(\"ar-EG\", {\n                                  year: \"numeric\",\n                                  month: \"short\",\n                                  day: \"numeric\"\n                                })}\n                              </td>\n                              <td className=\"text-gray-500 py-3 px-4 text-[14px]\">{expense.description}</td>\n                              <td className=\"text-gray-900 font-semibold py-3 px-4 text-[14px]\">{expense.amount.toLocaleString()} ج.م</td>\n                            </tr>\n                          ))}\n                          <tr className=\"bg-[#F9FAFB] border-t border-[#E5E7EB]\">\n                            <td colSpan={2} className=\"text-gray-900 font-semibold py-3 px-4\">إجمالي النفقات</td>\n                            <td className=\"text-gray-900 font-semibold py-3 px-4\">\n                              {selectedInvoice.expenses.reduce((sum, exp) => sum + exp.amount, 0).toLocaleString()} ج.م\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                )}\n\n                {/* Payments List */}\n                {selectedInvoice.payments && selectedInvoice.payments.length > 0 && (\n                  <div className=\"space-y-4\">\n                    <h3 className=\"text-base font-semibold text-gray-900\">المدفوعات المسجلة</h3>\n                    <div className=\"space-y-2\">\n                      {selectedInvoice.payments.map((payment, idx) => (\n                        <div key={payment.id} className=\"flex justify-between items-center bg-gray-50 rounded-[12px] p-3 border border-[#E5E7EB]\">\n                          <span className=\"text-gray-500\">دفعة {idx + 1}</span>\n                          <span className=\"text-gray-900 font-semibold\">{payment.amount.toFixed(2)} ج.م</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Status Badge */}\n                <div className=\"flex justify-between items-center pt-4 border-t border-[#E5E7EB]\">\n                  <span className=\"text-gray-500\">الحالة:</span>\n                  <Badge\n                    className={\n                      selectedInvoice.isPaid\n                        ? \"bg-[#ECFDF5] border border-[#16A34A]/20 text-[#16A34A]\"\n                        : selectedInvoice.totalPaid === 0 || selectedInvoice.totalPaid === undefined\n                          ? \"bg-[#FEF2F2] border border-[#DC2626]/20 text-[#DC2626]\"\n                          : \"bg-[#FFFBEB] border border-[#F59E0B]/20 text-[#F59E0B]\"\n                    }\n                    variant=\"outline\"\n                  >\n                    {getPaymentStatus(selectedInvoice).status}\n                  </Badge>\n                </div>\n\n                {/* Add Payment Button */}\n                {!selectedInvoice.isPaid && (\n                  <Button\n                    onClick={() => {\n                      setPaymentAmount(\"\")\n                      setPaymentError(null)\n                      setShowPaymentModal(true)\n                    }}\n                    className=\"w-full mt-6 bg-[#2563EB] hover:bg-[#1D4ED8] text-white\"\n                  >\n                    <DollarSign className=\"h-4 w-4 ml-2\" />\n                    إضافة دفعة\n                  </Button>\n                )}\n              </div>\n            </DialogContent>\n          </Dialog>\n        )}\n\n        {/* Add Payment Modal */}\n        <Dialog open={showPaymentModal} onOpenChange={(open) => {\n          if (!open) {\n            setShowPaymentModal(false)\n            setPaymentAmount(\"\")\n            setPaymentError(null)\n          }\n        }}>\n          <DialogContent className=\"max-w-md bg-white\">\n            <DialogHeader>\n              <DialogTitle className=\"text-xl text-gray-900\">إضافة دفعة</DialogTitle>\n            </DialogHeader>\n\n            <div className=\"space-y-4\">\n              {/* Invoice Info */}\n              <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                <p className=\"text-gray-500 text-sm mb-1\">الفاتورة</p>\n                <p className=\"text-gray-900 font-semibold\">{selectedInvoice?.invoiceNumber}</p>\n              </div>\n\n              {/* Remaining Amount */}\n              <div className=\"bg-gray-50 rounded-[12px] p-4 border border-[#E5E7EB]\">\n                <p className=\"text-gray-500 text-sm mb-1\">المبلغ المتبقي</p>\n                <p className=\"text-gray-900 font-semibold text-2xl\">\n                  {selectedInvoice ? selectedInvoice.remainingBalance.toFixed(2) : '0'} ج.م\n                </p>\n              </div>\n\n              {/* Payment Amount Input */}\n              <div className=\"space-y-2\">\n                <label className=\"text-gray-500 text-sm font-medium\">المبلغ</label>\n                <Input\n                  type=\"number\"\n                  placeholder=\"أدخل المبلغ\"\n                  value={paymentAmount}\n                  onChange={(e) => {\n                    setPaymentAmount(e.target.value)\n                    setPaymentError(null)\n                  }}\n                  disabled={paymentLoading}\n                  className=\"bg-white border-gray-200 text-gray-900 placeholder:text-gray-400\"\n                  step=\"0.01\"\n                  min=\"0\"\n                />\n              </div>\n\n              {/* Error Message */}\n              {paymentError && (\n                <Alert className=\"bg-[#FEF2F2] border-[#DC2626]/30\">\n                  <AlertCircle className=\"h-4 w-4 text-[#DC2626]\" />\n                  <AlertDescription className=\"text-[#DC2626]\">{paymentError}</AlertDescription>\n                </Alert>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex gap-3 pt-4\">\n                <Button\n                  onClick={() => {\n                    setShowPaymentModal(false)\n                    setPaymentAmount(\"\")\n                    setPaymentError(null)\n                  }}\n                  disabled={paymentLoading}\n                  variant=\"outline\"\n                  className=\"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50\"\n                >\n                  إلغاء\n                </Button>\n                <Button\n                  onClick={handleAddPayment}\n                  disabled={paymentLoading}\n                  className=\"flex-1 bg-[#2563EB] hover:bg-[#1D4ED8] text-white\"\n                >\n                  {paymentLoading ? (\n                    <>\n                      <Loader className=\"h-4 w-4 animate-spin ml-2\" />\n                      جاري الحفظ...\n                    </>\n                  ) : (\n                    <>\n                      <CheckCircle2 className=\"h-4 w-4 ml-2\" />\n                      حفظ الدفعة\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}