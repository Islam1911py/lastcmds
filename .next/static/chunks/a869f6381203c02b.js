(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2678,e=>{"use strict";var t=e.i(2985),s=e.i(40059);e.i(98969);var a=e.i(99442),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,a.createSlot)(`Primitive.${r}`),i=s.forwardRef((e,s)=>{let{asChild:a,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?n:r,{...i,ref:s})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),n=s.forwardRef((e,s)=>(0,t.jsx)(r.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=e.i(29234);function l({className:e,...s}){return(0,t.jsx)(n,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>l],2678)},97546,e=>{"use strict";var t=e.i(2985),s=e.i(29234);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},26633,e=>{"use strict";var t=e.i(2985),s=e.i(48282),a=e.i(54483),r=e.i(29234);function n({...e}){return(0,t.jsx)(s.Root,{"data-slot":"dialog",...e})}function i({...e}){return(0,t.jsx)(s.Trigger,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,t.jsx)(s.Portal,{"data-slot":"dialog-portal",...e})}function d({className:e,...a}){return(0,t.jsx)(s.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function o({className:e,children:n,showCloseButton:i=!0,...o}){return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(d,{}),(0,t.jsxs)(s.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[n,i&&(0,t.jsxs)(s.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(a.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...s})}function u({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...s})}function x({className:e,...a}){return(0,t.jsx)(s.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...a})}function m({className:e,...a}){return(0,t.jsx)(s.Description,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>n,"DialogContent",()=>o,"DialogDescription",()=>m,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>x,"DialogTrigger",()=>i])},26486,e=>{"use strict";let t=(0,e.i(72188).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],26486)},2251,e=>{"use strict";let t=(0,e.i(72188).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],2251)},13949,e=>{"use strict";var t=e.i(2985),s=e.i(63886),a=e.i(29234);let r=(0,s.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...n}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,a.cn)(r({variant:s}),e),...n})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,a.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}e.s(["Alert",()=>n,"AlertDescription",()=>i])},65990,e=>{"use strict";var t=e.i(2985),s=e.i(29234);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",e),...a})}e.s(["Skeleton",()=>a])},4295,e=>{"use strict";let t=(0,e.i(72188).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],4295)},46421,e=>{"use strict";let t=(0,e.i(72188).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>t],46421)},49807,e=>{"use strict";var t=e.i(2985),s=e.i(40059);e.i(98969);var a=e.i(99442),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,a.createSlot)(`Primitive.${r}`),i=s.forwardRef((e,s)=>{let{asChild:a,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?n:r,{...i,ref:s})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),n="Progress",[i,l]=function(e,a=[]){let r=[],n=()=>{let t=r.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return n.scopeName=e,[function(a,n){let i=s.createContext(n);i.displayName=a+"Context";let l=r.length;r=[...r,n];let d=a=>{let{scope:r,children:n,...d}=a,o=r?.[e]?.[l]||i,c=s.useMemo(()=>d,Object.values(d));return(0,t.jsx)(o.Provider,{value:c,children:n})};return d.displayName=a+"Provider",[d,function(t,r){let d=r?.[e]?.[l]||i,o=s.useContext(d);if(o)return o;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:s,scopeName:a})=>{let r=s(e)[`__scope${a}`];return{...t,...r}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(n,...a)]}(n),[d,o]=i(n),c=s.forwardRef((e,s)=>{var a,n;let{__scopeProgress:i,value:l=null,max:o,getValueLabel:c=m,...u}=e;(o||0===o)&&!h(o)&&console.error((a=`${o}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=h(o)?o:100;null===l||f(l,x)||console.error((n=`${l}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let j=f(l,x)?l:null,v=g(j)?c(j,x):void 0;return(0,t.jsx)(d,{scope:i,value:j,max:x,children:(0,t.jsx)(r.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":g(j)?j:void 0,"aria-valuetext":v,role:"progressbar","data-state":p(j,x),"data-value":j??void 0,"data-max":x,...u,ref:s})})});c.displayName=n;var u="ProgressIndicator",x=s.forwardRef((e,s)=>{let{__scopeProgress:a,...n}=e,i=o(u,a);return(0,t.jsx)(r.div,{"data-state":p(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:s})});function m(e,t){return`${Math.round(e/t*100)}%`}function p(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function h(e){return g(e)&&!isNaN(e)&&e>0}function f(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=u;var j=e.i(29234);function v({className:e,value:s,...a}){return(0,t.jsx)(c,{"data-slot":"progress",className:(0,j.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:(0,t.jsx)(x,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}e.s(["Progress",()=>v],49807)},26212,e=>{"use strict";var t=e.i(2985),s=e.i(40059),a=e.i(19007),r=e.i(51581),n=e.i(11316),i=e.i(46658),l=e.i(65990),d=e.i(2251),o=e.i(4295),c=e.i(46421),u=e.i(26486),x=e.i(13949),m=e.i(49807),p=e.i(26633),g=e.i(2678),h=e.i(97546),f=e.i(92825);function j(){let{data:e}=(0,a.useSession)(),{toast:j}=(0,r.useToast)(),[v,b]=(0,s.useState)([]),[N,y]=(0,s.useState)(!0),[w,C]=(0,s.useState)(!1),[S,D]=(0,s.useState)(!1),[k,T]=(0,s.useState)([]),[F,I]=(0,s.useState)([]),[P,A]=(0,s.useState)({userId:"",projectId:"",amount:""});(0,s.useEffect)(()=>{(async()=>{try{y(!0);let[e,t,s]=await Promise.all([fetch("/api/pm-advances"),fetch("/api/projects"),fetch("/api/users?role=PROJECT_MANAGER")]);if(e.ok){let t=await e.json();b(Array.isArray(t)?t:[])}if(t.ok){let e=await t.json();T(Array.isArray(e)?e:[])}if(s.ok){let e=await s.json();I(Array.isArray(e)?e:[])}}catch(e){console.error("Error fetching data:",e),j({title:"Error",description:"Failed to load data. Please refresh the page.",variant:"destructive"})}finally{y(!1)}})()},[j]);let E=async e=>{if(e.preventDefault(),!P.userId||!P.projectId||!P.amount)return void j({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});try{D(!0);let e=await fetch("/api/pm-advances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:P.userId,projectId:P.projectId,amount:parseFloat(P.amount)})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create advance")}(await e.json()).advance;let t=await fetch("/api/pm-advances");if(t.ok){let e=await t.json();b(Array.isArray(e)?e:[])}C(!1),A({userId:"",projectId:"",amount:""}),j({title:"نجح",description:"تم إنشاء العهدة بنجاح"})}catch(e){console.error("Error creating advance:",e),j({title:"خطأ",description:e instanceof Error?e.message:"Failed to create advance",variant:"destructive"})}finally{D(!1)}};if(N)return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"عهد مديري المشاريع"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"تتبع العهد المخصصة والصرفيات من كل عهدة"})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(e=>(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-2",children:(0,t.jsx)(l.Skeleton,{className:"h-4 w-20"})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)(l.Skeleton,{className:"h-8 w-32"})})]},e))})]});let $=v.reduce((e,t)=>e+t.amount,0),_=v.reduce((e,t)=>e+t.totalSpent,0),M=v.reduce((e,t)=>e+t.remainingAmount,0);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"عهد مديري المشاريع"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"تتبع العهد المخصصة والصرفيات من كل عهدة"})]}),(0,t.jsxs)(p.Dialog,{open:w,onOpenChange:C,children:[(0,t.jsx)(p.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{className:"gap-2",children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4"}),"إضافة عهدة جديدة"]})}),(0,t.jsxs)(p.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:"إضافة عهدة جديدة"}),(0,t.jsx)(p.DialogDescription,{children:"خصص عهدة مالية لمدير مشروع معين"})]}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Label,{htmlFor:"manager",children:"مدير المشروع *"}),(0,t.jsxs)(f.Select,{value:P.userId,onValueChange:e=>A({...P,userId:e}),children:[(0,t.jsx)(f.SelectTrigger,{id:"manager",children:(0,t.jsx)(f.SelectValue,{placeholder:"اختر مدير المشروع"})}),(0,t.jsx)(f.SelectContent,{children:F.map(e=>(0,t.jsx)(f.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Label,{htmlFor:"project",children:"المشروع *"}),(0,t.jsxs)(f.Select,{value:P.projectId,onValueChange:e=>A({...P,projectId:e}),children:[(0,t.jsx)(f.SelectTrigger,{id:"project",children:(0,t.jsx)(f.SelectValue,{placeholder:"اختر المشروع"})}),(0,t.jsx)(f.SelectContent,{children:k.map(e=>(0,t.jsx)(f.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Label,{htmlFor:"amount",children:"المبلغ (جنيه) *"}),(0,t.jsx)(h.Input,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:P.amount,onChange:e=>A({...P,amount:e.target.value})})]}),(0,t.jsxs)(p.DialogFooter,{children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:()=>C(!1),children:"إلغاء"}),(0,t.jsxs)(n.Button,{type:"submit",disabled:S,children:[S&&(0,t.jsx)(o.Loader2,{className:"h-4 w-4 animate-spin ml-2"}),"إضافة العهدة"]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-2",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"إجمالي العهد"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[$.toFixed(2)," جنيه"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v.length," عهدة نشطة"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-2",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"المصروف"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[_.toFixed(2)," جنيه"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[$>0?(_/$*100).toFixed(1):0,"% من الإجمالي"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-2",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"المتبقي"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[M.toFixed(2)," جنيه"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[$>0?(M/$*100).toFixed(1):0,"% من الإجمالي"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-2",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium",children:"تحذير"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:v.filter(e=>e.percentageUsed>=80).length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"عهد استُنفذت أكثر من 80%"})]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===v.length?(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"pt-6",children:(0,t.jsxs)(x.Alert,{children:[(0,t.jsx)(d.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(x.AlertDescription,{children:"لا توجد عهد مسجلة حتى الآن"})]})})}):v.map(e=>(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[e.user.name,e.percentageUsed>=80&&e.percentageUsed<100&&(0,t.jsxs)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium",children:["تنبيه: ",e.percentageUsed.toFixed(0),"%"]}),e.percentageUsed>=100&&(0,t.jsx)("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium",children:"استُنفذت"})]}),(0,t.jsxs)(i.CardDescription,{className:"mt-1",children:[e.project.name," • العهدة منذ"," ",new Date(e.createdAt).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.amount.toFixed(2)}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"جنيه"})]})]})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"نسبة الاستهلاك"}),(0,t.jsxs)("span",{className:"text-sm font-bold text-red-600",children:[e.percentageUsed.toFixed(1),"%"]})]}),(0,t.jsx)(m.Progress,{value:e.percentageUsed,className:"h-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"المصروف"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:e.totalSpent.toFixed(2)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"جنيه"})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"المتبقي"}),(0,t.jsx)("p",{className:"text-lg font-bold text-green-600",children:e.remainingAmount.toFixed(2)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"جنيه"})]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"الأصلي"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:e.amount.toFixed(2)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"جنيه"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[(0,t.jsx)(c.TrendingDown,{className:"h-4 w-4"}),"تفصيل الصرفيات"]}),e.operationalExpenses&&e.operationalExpenses.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"نفقات تشغيلية"}),(0,t.jsxs)("div",{className:"space-y-2 ml-4 border-r-2 border-blue-200 pr-4",children:[e.operationalExpenses.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.description}),(0,t.jsxs)("span",{className:"font-semibold",children:[e.amount.toFixed(2)," جنيه"]})]},e.id)),e.operationalExpenses.length>5&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground italic",children:["+",e.operationalExpenses.length-5," نفقات أخرى"]})]})]}),e.expenses&&e.expenses.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"نفقات الوحدات"}),(0,t.jsxs)("div",{className:"space-y-2 ml-4 border-r-2 border-purple-200 pr-4",children:[e.expenses.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e.unit?.name||"وحدة غير محددة"," - ",e.description]}),(0,t.jsxs)("span",{className:"font-semibold",children:[e.amount.toFixed(2)," جنيه"]})]},e.id)),e.expenses.length>5&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground italic",children:["+",e.expenses.length-5," نفقات أخرى"]})]})]}),!e.operationalExpenses?.length&&!e.expenses?.length&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"لم يتم تسجيل صرفيات بعد"})]})]})]},e.id))})]})}e.s(["default",()=>j])}]);