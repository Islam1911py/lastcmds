(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9416,e=>{"use strict";var t=e.i(2985),r=e.i(99442),a=e.i(63886),s=e.i(29234);let n=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,asChild:i=!1,...o}){let l=i?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,s.cn)(n({variant:a}),e),...o})}e.s(["Badge",()=>i])},30007,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},46658,e=>{"use strict";var t=e.i(2985),r=e.i(29234);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-4 rounded-[12px] border border-border p-4 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-4 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-4",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-4",e),...a})}e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>i,"CardHeader",()=>s,"CardTitle",()=>n])},97546,e=>{"use strict";var t=e.i(2985),r=e.i(29234);function a({className:e,type:a,...s}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},26633,e=>{"use strict";var t=e.i(2985),r=e.i(48282),a=e.i(54483),s=e.i(29234);function n({...e}){return(0,t.jsx)(r.Root,{"data-slot":"dialog",...e})}function i({...e}){return(0,t.jsx)(r.Trigger,{"data-slot":"dialog-trigger",...e})}function o({...e}){return(0,t.jsx)(r.Portal,{"data-slot":"dialog-portal",...e})}function l({className:e,...a}){return(0,t.jsx)(r.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function c({className:e,children:n,showCloseButton:i=!0,...c}){return(0,t.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,t.jsx)(l,{}),(0,t.jsxs)(r.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...c,children:[n,i&&(0,t.jsxs)(r.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(a.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function u({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function m({className:e,...a}){return(0,t.jsx)(r.Title,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...a})}function p({className:e,...a}){return(0,t.jsx)(r.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>n,"DialogContent",()=>c,"DialogDescription",()=>p,"DialogFooter",()=>u,"DialogHeader",()=>d,"DialogTitle",()=>m,"DialogTrigger",()=>i])},2251,e=>{"use strict";let t=(0,e.i(72188).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],2251)},13949,e=>{"use strict";var t=e.i(2985),r=e.i(63886),a=e.i(29234);let s=(0,r.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,a.cn)(s({variant:r}),e),...n})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,a.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...r})}e.s(["Alert",()=>n,"AlertDescription",()=>i])},73258,e=>{"use strict";let t=(0,e.i(72188).default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["Loader",()=>t],73258)},77300,e=>{"use strict";let t=(0,e.i(72188).default)("hard-hat",[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]]);e.s(["HardHat",()=>t],77300)},77227,e=>{"use strict";var t=e.i(2985),r=e.i(40059),a=e.i(33912),s=e.i(55907),n=e.i(65553),i=e.i(23531),o=e.i(2190),l=e.i(35575),c=e.i(81304),d=e.i(30007),u=e.i(87839),m="ScrollArea",[p,x]=(0,n.createContextScope)(m),[f,h]=p(m),g=r.forwardRef((e,s)=>{let{__scopeScrollArea:n,type:o="hover",dir:c,scrollHideDelay:d=600,...u}=e,[m,p]=r.useState(null),[x,h]=r.useState(null),[g,v]=r.useState(null),[b,w]=r.useState(null),[j,y]=r.useState(null),[N,C]=r.useState(0),[E,S]=r.useState(0),[R,T]=r.useState(!1),[k,A]=r.useState(!1),D=(0,i.useComposedRefs)(s,e=>p(e)),L=(0,l.useDirection)(c);return(0,t.jsx)(f,{scope:n,type:o,dir:L,scrollHideDelay:d,scrollArea:m,viewport:x,onViewportChange:h,content:g,onContentChange:v,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:R,onScrollbarXEnabledChange:T,scrollbarY:j,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:C,onCornerHeightChange:S,children:(0,t.jsx)(a.Primitive.div,{dir:L,...u,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});g.displayName=m;var v="ScrollAreaViewport",b=r.forwardRef((e,s)=>{let{__scopeScrollArea:n,children:o,nonce:l,...c}=e,d=h(v,n),u=r.useRef(null),m=(0,i.useComposedRefs)(s,u,d.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),(0,t.jsx)(a.Primitive.div,{"data-radix-scroll-area-viewport":"",...c,ref:m,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});b.displayName=v;var w="ScrollAreaScrollbar",j=r.forwardRef((e,a)=>{let{forceMount:s,...n}=e,i=h(w,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=i,c="horizontal"===e.orientation;return r.useEffect(()=>(c?o(!0):l(!0),()=>{c?o(!1):l(!1)}),[c,o,l]),"hover"===i.type?(0,t.jsx)(y,{...n,ref:a,forceMount:s}):"scroll"===i.type?(0,t.jsx)(N,{...n,ref:a,forceMount:s}):"auto"===i.type?(0,t.jsx)(C,{...n,ref:a,forceMount:s}):"always"===i.type?(0,t.jsx)(E,{...n,ref:a}):null});j.displayName=w;var y=r.forwardRef((e,a)=>{let{forceMount:n,...i}=e,o=h(w,e.__scopeScrollArea),[l,c]=r.useState(!1);return r.useEffect(()=>{let e=o.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),c(!0)},a=()=>{t=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",a)}}},[o.scrollArea,o.scrollHideDelay]),(0,t.jsx)(s.Presence,{present:n||l,children:(0,t.jsx)(C,{"data-state":l?"visible":"hidden",...i,ref:a})})}),N=r.forwardRef((e,a)=>{var n;let{forceMount:i,...o}=e,l=h(w,e.__scopeScrollArea),c="horizontal"===e.orientation,d=$(()=>p("SCROLL_END"),100),[m,p]=(n={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>n[e][t]??e,"hidden"));return r.useEffect(()=>{if("idle"===m){let e=window.setTimeout(()=>p("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(e)}},[m,l.scrollHideDelay,p]),r.useEffect(()=>{let e=l.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],a=()=>{let a=e[t];r!==a&&(p("SCROLL"),d()),r=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[l.viewport,c,p,d]),(0,t.jsx)(s.Presence,{present:i||"hidden"!==m,children:(0,t.jsx)(E,{"data-state":"hidden"===m?"hidden":"visible",...o,ref:a,onPointerEnter:(0,u.composeEventHandlers)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,u.composeEventHandlers)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),C=r.forwardRef((e,a)=>{let n=h(w,e.__scopeScrollArea),{forceMount:i,...o}=e,[l,c]=r.useState(!1),d="horizontal"===e.orientation,u=$(()=>{if(n.viewport){let e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;c(d?e:t)}},10);return W(n.viewport,u),W(n.content,u),(0,t.jsx)(s.Presence,{present:i||l,children:(0,t.jsx)(E,{"data-state":l?"visible":"hidden",...o,ref:a})})}),E=r.forwardRef((e,a)=>{let{orientation:s="vertical",...n}=e,i=h(w,e.__scopeScrollArea),o=r.useRef(null),l=r.useRef(0),[c,d]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=H(c.viewport,c.content),m={...n,sizes:c,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function p(e,t){return function(e,t,r,a="ltr"){let s=F(r),n=t||s/2,i=r.scrollbar.paddingStart+n,o=r.scrollbar.size-r.scrollbar.paddingEnd-(s-n),l=r.content-r.viewport;return U([i,o],"ltr"===a?[0,l]:[-1*l,0])(e)}(e,l.current,c,t)}return"horizontal"===s?(0,t.jsx)(S,{...m,ref:a,onThumbPositionChange:()=>{if(i.viewport&&o.current){let e=M(i.viewport.scrollLeft,c,i.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=p(e,i.dir))}}):"vertical"===s?(0,t.jsx)(R,{...m,ref:a,onThumbPositionChange:()=>{if(i.viewport&&o.current){let e=M(i.viewport.scrollTop,c);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=p(e))}}):null}),S=r.forwardRef((e,a)=>{let{sizes:s,onSizesChange:n,...o}=e,l=h(w,e.__scopeScrollArea),[c,d]=r.useState(),u=r.useRef(null),m=(0,i.useComposedRefs)(a,u,l.onScrollbarXChange);return r.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),(0,t.jsx)(A,{"data-orientation":"horizontal",...o,ref:m,sizes:s,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(s)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(l.viewport){var a,s;let n=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),a=n,s=r,a>0&&a<s&&t.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:z(c.paddingLeft),paddingEnd:z(c.paddingRight)}})}})}),R=r.forwardRef((e,a)=>{let{sizes:s,onSizesChange:n,...o}=e,l=h(w,e.__scopeScrollArea),[c,d]=r.useState(),u=r.useRef(null),m=(0,i.useComposedRefs)(a,u,l.onScrollbarYChange);return r.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),(0,t.jsx)(A,{"data-orientation":"vertical",...o,ref:m,sizes:s,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(s)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(l.viewport){var a,s;let n=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),a=n,s=r,a>0&&a<s&&t.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:z(c.paddingTop),paddingEnd:z(c.paddingBottom)}})}})}),[T,k]=p(w),A=r.forwardRef((e,s)=>{let{__scopeScrollArea:n,sizes:l,hasThumb:c,onThumbChange:d,onThumbPointerUp:m,onThumbPointerDown:p,onThumbPositionChange:x,onDragScroll:f,onWheelScroll:g,onResize:v,...b}=e,j=h(w,n),[y,N]=r.useState(null),C=(0,i.useComposedRefs)(s,e=>N(e)),E=r.useRef(null),S=r.useRef(""),R=j.viewport,k=l.content-l.viewport,A=(0,o.useCallbackRef)(g),D=(0,o.useCallbackRef)(x),L=$(v,10);function P(e){E.current&&f({x:e.clientX-E.current.left,y:e.clientY-E.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;y?.contains(t)&&A(e,k)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[R,y,k,A]),r.useEffect(D,[l,D]),W(y,L),W(j.content,L),(0,t.jsx)(T,{scope:n,scrollbar:y,hasThumb:c,onThumbChange:(0,o.useCallbackRef)(d),onThumbPointerUp:(0,o.useCallbackRef)(m),onThumbPositionChange:D,onThumbPointerDown:(0,o.useCallbackRef)(p),children:(0,t.jsx)(a.Primitive.div,{...b,ref:C,style:{position:"absolute",...b.style},onPointerDown:(0,u.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),E.current=y.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),P(e))}),onPointerMove:(0,u.composeEventHandlers)(e.onPointerMove,P),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=S.current,j.viewport&&(j.viewport.style.scrollBehavior=""),E.current=null})})})}),D="ScrollAreaThumb",L=r.forwardRef((e,r)=>{let{forceMount:a,...n}=e,i=k(D,e.__scopeScrollArea);return(0,t.jsx)(s.Presence,{present:a||i.hasThumb,children:(0,t.jsx)(P,{ref:r,...n})})}),P=r.forwardRef((e,s)=>{let{__scopeScrollArea:n,style:o,...l}=e,c=h(D,n),d=k(D,n),{onThumbPositionChange:m}=d,p=(0,i.useComposedRefs)(s,e=>d.onThumbChange(e)),x=r.useRef(void 0),f=$(()=>{x.current&&(x.current(),x.current=void 0)},100);return r.useEffect(()=>{let e=c.viewport;if(e){let t=()=>{f(),x.current||(x.current=O(e,m),m())};return m(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,f,m]),(0,t.jsx)(a.Primitive.div,{"data-state":d.hasThumb?"visible":"hidden",...l,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,u.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;d.onThumbPointerDown({x:r,y:a})}),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,d.onThumbPointerUp)})});L.displayName=D;var B="ScrollAreaCorner",_=r.forwardRef((e,r)=>{let a=h(B,e.__scopeScrollArea),s=!!(a.scrollbarX&&a.scrollbarY);return"scroll"!==a.type&&s?(0,t.jsx)(I,{...e,ref:r}):null});_.displayName=B;var I=r.forwardRef((e,s)=>{let{__scopeScrollArea:n,...i}=e,o=h(B,n),[l,c]=r.useState(0),[d,u]=r.useState(0),m=!!(l&&d);return W(o.scrollbarX,()=>{let e=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(e),u(e)}),W(o.scrollbarY,()=>{let e=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(e),c(e)}),m?(0,t.jsx)(a.Primitive.div,{...i,ref:s,style:{width:l,height:d,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}}):null});function z(e){return e?parseInt(e,10):0}function H(e,t){let r=e/t;return isNaN(r)?0:r}function F(e){let t=H(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function M(e,t,r="ltr"){let a=F(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-s,i=t.content-t.viewport,o=(0,d.clamp)(e,"ltr"===r?[0,i]:[-1*i,0]);return U([0,i],[0,n-a])(o)}function U(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}var O=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return!function s(){let n={left:e.scrollLeft,top:e.scrollTop},i=r.left!==n.left,o=r.top!==n.top;(i||o)&&t(),r=n,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function $(e,t){let a=(0,o.useCallbackRef)(e),s=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),r.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(a,t)},[a,t])}function W(e,t){let r=(0,o.useCallbackRef)(t);(0,c.useLayoutEffect)(()=>{let t=0;if(e){let a=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}},[e,r])}var Y=e.i(29234);function V({className:e,children:r,...a}){return(0,t.jsxs)(g,{"data-slot":"scroll-area",className:(0,Y.cn)("relative",e),...a,children:[(0,t.jsx)(b,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,t.jsx)(X,{}),(0,t.jsx)(_,{})]})}function X({className:e,orientation:r="vertical",...a}){return(0,t.jsx)(j,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,Y.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",e),...a,children:(0,t.jsx)(L,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}e.s(["ScrollArea",()=>V],77227)},45961,e=>{"use strict";var t=e.i(2985),r=e.i(40059),a=e.i(19007),s=e.i(88020),n=e.i(2251);let i=(0,e.i(72188).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var o=e.i(73258),l=e.i(60942),c=e.i(84696),d=e.i(77300),u=e.i(63967),m=e.i(13949),p=e.i(9416),x=e.i(11316),f=e.i(97546),h=e.i(46658),g=e.i(26633),v=e.i(77227);let b={MANAGER:"مدير مشروع",ACCOUNTANT:"محاسب",SECURITY:"أمن",CLEANER:"نظافة",PLUMBER:"سباك",CARPENTER:"نجار",ELECTRICIAN:"كهربائي",PAINTER:"دهان",GENERAL_WORKER:"عامل عام",TECHNICIAN:"فني"},w={OFFICE_STAFF:"موظف مكتبي",FIELD_WORKER:"عامل ميداني"},j={NEW:"جديدة",IN_PROGRESS:"قيد التنفيذ",COMPLETED:"مكتملة",CLOSED:"مغلقة",RESOLVED:"مغلقة"};function y(){let e,y,N,{data:C,status:E}=(0,a.useSession)(),S=(0,s.useRouter)(),R=(0,s.useParams)().id,[T,k]=(0,r.useState)(null),[A,D]=(0,r.useState)(!0),[L,P]=(0,r.useState)(null),[B,_]=(0,r.useState)(null),[I,z]=(0,r.useState)(""),H=C?.user?.role==="ADMIN",F=C?.user?.role==="ADMIN"||C?.user?.role==="ACCOUNTANT",M=e=>{let t=[...e.staff??[],...(e.staffUnitAssignments??[]).map(e=>e.staff).filter(e=>!!e)],r=new Map;return t.forEach(e=>{"ACTIVE"===e.status&&r.set(e.id,e)}),Array.from(r.values())},U=(e,t)=>{_({scope:"unit",unit:e,section:t}),z("")},O=e=>{_({scope:"project",section:e}),z("")};(0,r.useEffect)(()=>{"loading"!==E&&C&&$()},[C,E,R]);let $=async()=>{try{D(!0),P(null);let e=await fetch(`/api/projects?projectId=${R}`);if(!e.ok)throw Error("Failed to fetch project");let t=await e.json();k(t[0]||null)}catch(e){console.error("Error:",e),P("Failed to load project")}finally{D(!1)}},W=(0,r.useMemo)(()=>{if(!T?.operationalUnits)return[];let e=new Map;return T.operationalUnits.forEach(t=>{M(t).forEach(r=>((t,r)=>{if(!t||"ACTIVE"!==t.status)return;let a=e.get(t.id);if(a){a.units.some(e=>e.id===r.id)||a.units.push({id:r.id,name:r.name,code:r.code});return}e.set(t.id,{id:t.id,name:t.name,phone:t.phone||void 0,role:t.role,type:t.type,units:[{id:r.id,name:r.name,code:r.code}]})})(r,t))}),Array.from(e.values()).map(e=>({...e,units:e.units.sort((e,t)=>e.name.localeCompare(t.name,"ar"))})).sort((e,t)=>e.name.localeCompare(t.name,"ar"))},[T]),Y=(0,r.useMemo)(()=>T?{units:T.operationalUnits?.length??0,residents:T.operationalUnits?.reduce((e,t)=>e+(t.residents?.length??0),0)??0,tickets:T.operationalUnits?.reduce((e,t)=>e+(t.tickets?.length??0),0)??0,staff:W.length}:{units:0,residents:0,tickets:0,staff:0},[T,W]);return"loading"===E||A?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,t.jsx)(o.Loader,{className:"h-8 w-8 animate-spin text-primary"})}):L||!T?(0,t.jsxs)("div",{className:"p-6 bg-background min-h-screen",children:[(0,t.jsxs)(x.Button,{variant:"outline",onClick:()=>S.back(),className:"mb-6 border-gray-300 text-gray-700 hover:bg-gray-50",children:[(0,t.jsx)(i,{className:"h-4 w-4 mr-2 rotate-180"}),"العودة"]}),(0,t.jsxs)(m.Alert,{className:"bg-[#FEF2F2] border-[#DC2626]/20",children:[(0,t.jsx)(n.AlertCircle,{className:"h-4 w-4 text-[#DC2626]"}),(0,t.jsx)(m.AlertDescription,{className:"text-[#DC2626]",children:L||"المشروع غير موجود"})]})]}):(0,t.jsxs)("div",{className:"p-6 bg-background min-h-screen",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.Button,{variant:"outline",onClick:()=>S.back(),className:"mb-4 border-gray-300 text-gray-700 hover:bg-gray-50",children:[(0,t.jsx)(i,{className:"h-4 w-4 mr-2 rotate-180"}),"العودة"]}),(0,t.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:T.name}),(0,t.jsxs)("p",{className:"text-gray-500",children:["RESIDENTIAL_COMPOUND"===T.type&&"مجمع سكني","PHARMACY"===T.type&&"صيدلية","MALL"===T.type&&"مول تجاري","OFFICE_BUILDING"===T.type&&"مبنى إداري","RESORT"===T.type&&"منتجع سياحي"]}),(0,t.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:["تاريخ الإنشاء: ",new Date(T.createdAt).toLocaleDateString("ar-EG")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[H&&(0,t.jsx)(x.Button,{onClick:()=>S.push(`/dashboard/operational-units?projectId=${T.id}`),className:"bg-[#2563EB] hover:bg-[#1D4ED8] text-white",children:"إضافة وحدة"}),T.isActive&&(0,t.jsx)(p.Badge,{className:"bg-[#ECFDF5] border border-[#16A34A]/20 text-[#16A34A]",children:"نشط"})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,t.jsxs)(h.Card,{className:"border-[#E5E7EB]",children:[(0,t.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.CardTitle,{className:"text-sm font-medium text-gray-600",children:"الوحدات"}),(0,t.jsx)(u.Building2,{className:"h-5 w-5 text-gray-400"})]}),(0,t.jsxs)(h.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y.units}),(0,t.jsx)(x.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>document.getElementById("project-units-section")?.scrollIntoView({behavior:"smooth",block:"start"}),children:"عرض الوحدات"})]})]}),(0,t.jsxs)(h.Card,{className:"border-[#E5E7EB]",children:[(0,t.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.CardTitle,{className:"text-sm font-medium text-gray-600",children:"السكان"}),(0,t.jsx)(l.Users,{className:"h-5 w-5 text-emerald-500"})]}),(0,t.jsxs)(h.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y.residents}),(0,t.jsx)(x.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>O("residents"),children:"عرض السكان"})]})]}),(0,t.jsxs)(h.Card,{className:"border-[#E5E7EB]",children:[(0,t.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.CardTitle,{className:"text-sm font-medium text-gray-600",children:"التذاكر"}),(0,t.jsx)(c.Ticket,{className:"h-5 w-5 text-blue-500"})]}),(0,t.jsxs)(h.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y.tickets}),(0,t.jsx)(x.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>O("tickets"),children:"عرض التذاكر"})]})]}),(0,t.jsxs)(h.Card,{className:"border-[#E5E7EB]",children:[(0,t.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.CardTitle,{className:"text-sm font-medium text-gray-600",children:"فريق العمل"}),(0,t.jsx)(d.HardHat,{className:"h-5 w-5 text-amber-500"})]}),(0,t.jsxs)(h.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y.staff}),(0,t.jsx)(x.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>O("staff"),children:"عرض الفريق"})]})]})]}),F&&(0,t.jsxs)("div",{className:"bg-white border border-[#E5E7EB] rounded-[12px] p-4 mb-8 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(n.AlertCircle,{className:"h-5 w-5 text-gray-500"}),(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"رسوم الإدارة الشهرية"})]}),(0,t.jsxs)("p",{className:"text-gray-500 text-sm mb-2",children:["رسوم الإدارة الشهرية يتم تحديدها على مستوى كل ",(0,t.jsx)("strong",{children:"وحدة تشغيلية"})," بشكل منفصل."]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"لتعديل الرسوم الشهرية، قم بفتح صفحة الوحدة التشغيلية من القائمة أدناه."})]}),(0,t.jsxs)("div",{id:"project-units-section",className:"bg-white border border-[#E5E7EB] rounded-[12px] p-4 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsx)("h2",{className:"text-base font-semibold text-gray-900",children:"الوحدات التشغيلية"})}),T.operationalUnits&&0!==T.operationalUnits.length?(0,t.jsx)("div",{className:"space-y-3",children:T.operationalUnits.map(e=>{let r=e.residents?.length??0,a=e.tickets?.length??0,s=M(e).length;return(0,t.jsxs)("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-[12px] p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h3",{className:"text-gray-900 font-semibold",children:e.name}),(0,t.jsx)(p.Badge,{variant:"outline",className:"bg-white border border-[#E5E7EB] text-gray-700 text-xs",children:e.code})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["النوع: ",e.type]}),F&&e.monthlyManagementFee&&(0,t.jsxs)("span",{className:"text-gray-900 font-semibold",children:[e.monthlyManagementFee.toLocaleString()," جنيه/شهر"]}),F&&e.monthlyBillingDay&&(0,t.jsxs)("span",{children:["يوم التحصيل: ",e.monthlyBillingDay]}),(0,t.jsx)("span",{className:"text-gray-400",children:e.isActive?"نشطة":"غير نشطة"})]})]}),(0,t.jsxs)(x.Button,{variant:"ghost",size:"sm",className:"text-emerald-600 hover:text-emerald-700",onClick:()=>S.push(`/dashboard/operational-units/${e.id}`),children:["فتح الوحدة",(0,t.jsx)(i,{className:"mr-2 h-4 w-4 rotate-180"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,t.jsxs)(x.Button,{variant:"secondary",size:"sm",className:"flex items-center gap-2",onClick:()=>U(e,"residents"),children:["السكان",(0,t.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:r})]}),(0,t.jsxs)(x.Button,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>U(e,"tickets"),children:["التذاكر",(0,t.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:a})]}),(0,t.jsxs)(x.Button,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>U(e,"staff"),children:["الفريق",(0,t.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:s})]})]})]},e.id)})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"لا توجد وحدات تشغيلية للمشروع حالياً"}),H&&(0,t.jsx)(x.Button,{onClick:()=>S.push(`/dashboard/operational-units?projectId=${T.id}`),className:"bg-[#2563EB] hover:bg-[#1D4ED8] text-white",children:"إضافة أول وحدة"})]})]}),(0,t.jsx)(g.Dialog,{open:!!B,onOpenChange:e=>e?null:void(_(null),z("")),children:(0,t.jsx)(g.DialogContent,{className:"max-w-2xl",children:B&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.DialogHeader,{children:[(0,t.jsx)(g.DialogTitle,{children:"project"===B.scope?"residents"===B.section?"سكان المشروع":"tickets"===B.section?"التذاكر المرتبطة":"فريق المشروع":"residents"===B.section?`سكان وحدة ${B.unit.name}`:"tickets"===B.section?`تذاكر وحدة ${B.unit.name}`:`فريق وحدة ${B.unit.name}`}),(0,t.jsx)(g.DialogDescription,{children:"استخدم البحث للعثور بسرعة على التفاصيل المطلوبة."})]}),(0,t.jsx)(f.Input,{autoFocus:!0,placeholder:"ابحث بالاسم أو الرقم أو الكود",className:"mt-4",value:I,onChange:e=>z(e.target.value)}),(0,t.jsx)(v.ScrollArea,{className:"mt-4 max-h-[420px] pr-4",children:(e=I.trim().toLowerCase(),y=[],y="residents"===B.section?("project"===B.scope?T?.operationalUnits.flatMap(e=>(e.residents??[]).map(t=>({resident:t,unit:e})))??[]:(B.unit.residents??[]).map(e=>({resident:e,unit:B.unit}))).map(({resident:e,unit:t})=>({id:e.id,title:e.name,subtitle:e.phone||e.whatsappPhone||"لا يوجد رقم للتواصل",meta:t?`${t.code} \xb7 ${t.name}`:void 0})):"tickets"===B.section?("project"===B.scope?T?.operationalUnits.flatMap(e=>(e.tickets??[]).map(t=>({ticket:t,unit:e})))??[]:(B.unit.tickets??[]).map(e=>({ticket:e,unit:B.unit}))).map(({ticket:e,unit:t})=>({id:e.id,title:e.title,subtitle:e.resident?.name?`${e.resident.name}${e.resident.phone?` • ${e.resident.phone}`:""}`:e.description||"بدون وصف",meta:`${t.code} \xb7 ${t.name} • ${j[e.status]||e.status}`})):("project"===B.scope?W.map(e=>({member:e})):M(B.unit).map(e=>({staff:e}))).map(e=>"member"in e?{id:e.member.id,title:e.member.name,subtitle:e.member.phone||"لا يوجد رقم",meta:`${b[e.member.role]||e.member.role} • ${e.member.units.map(e=>e.code).join("، ")}`}:{id:e.staff.id,title:e.staff.name,subtitle:e.staff.phone||"لا يوجد رقم",meta:`${b[e.staff.role]||e.staff.role} • ${w[e.staff.type]}`}),0===(N=e?y.filter(t=>t.title.toLowerCase().includes(e)||(t.subtitle??"").toLowerCase().includes(e)||(t.meta??"").toLowerCase().includes(e)):y).length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"لا توجد نتائج مطابقة."}):(0,t.jsx)("div",{className:"space-y-3",children:N.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.subtitle&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.subtitle}),e.meta&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.meta})]},e.id))}))})]})})})]})}e.s(["default",()=>y],45961)}]);