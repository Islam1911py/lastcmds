# ูุฏูุฑ ุงููุดุฑูุน ุนูู ูุงุชุณุงุจ - ุฏููู ุงูุนูููุงุช ุงููุงูู

> **ุงูุบุฑุถ:** ุชูุซูู ุดุงูู ูุฌููุน ุงูุนูููุงุช ุงูุชู ูููู ููุฏูุฑ ุงููุดุฑูุน ุชูููุฐูุง ุนุจุฑ ูุงุชุณุงุจ (ุนูููุงุช ูุญุฏูุฏุฉ ุญุณุจ ุงููุดุฑูุน ุงููุนูู)

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ุชุณุฌูู ุงููุตุฑููุงุช](#ุชุณุฌูู-ุงููุตุฑููุงุช)
2. [ุงูุงุณุชุนูุงูุงุช ูุงูุจุญุซ](#ุงูุงุณุชุนูุงูุงุช-ูุงูุจุญุซ)
3. [ูุนูููุงุช ุฅุถุงููุฉ](#ูุนูููุงุช-ุฅุถุงููุฉ)
4. [ุงุณุชุฎุฏุงู DSL Filter](#ุงุณุชุฎุฏุงู-dsl-filter)
5. [Prompt ููู Agent](#prompt-ููู-agent)

---

## ุชุณุฌูู ุงููุตุฑููุงุช

### CREATE_OPERATIONAL_EXPENSE - ุชุณุฌูู ูุตุฑููุฉ

**ุงููุตู:** ุชุณุฌูู ูุตุฑููุฉ ุนูููุฉ ูููุดุฑูุน (ุฃุนูุงู ูููุฉุ ููุฑุจุงุกุ ุฅูุฎ)

**ุงููุชุทูุจุงุช:**
- `amount` (ุฅุฌุจุงุฑู) - ุงููุจูุบ
- `sourceType` (ุฅุฌุจุงุฑู) - ููุน ุงููุตุฑููุฉ ูู ุงููุงุฆูุฉ ุงูุชุงููุฉ:
  - `TECHNICIAN_WORK` - ุฃุนูุงู ูููุฉ
  - `STAFF_WORK` - ุฃุนูุงู ููุธููู
  - `ELECTRICITY` - ููุฑุจุงุก
  - `WATER` - ููุงู
  - `OTHER` - ุฃุฎุฑู

**ุงูุงุฎุชูุงุฑูุฉ:**
- `description` - ูุตู ุงููุตุฑููุฉ
- `unitCode` - ููุฏ ุงููุญุฏุฉ ุฅุฐุง ูุงูุช ูุตุฑููุฉ ูุญุฏุฏุฉ ูููุญุฏุฉ
- `date` - ุชุงุฑูุฎ ุงููุตุฑููุฉ (YYYY-MM-DD)

**ููุงุญุธุฉ ูููุฉ:** ูุฏูุฑ ุงููุดุฑูุน ููุณุฌู ุงููุตุฑููุงุช ููุท ููุดุฑูุนู ุงููุนูู. ูุง ููููู ุงููุตูู ููุดุงุฑูุน ุฃุฎุฑู.

**Request Payload:**
```json
{
  "action": "CREATE_OPERATIONAL_EXPENSE",
  "senderPhone": "+201001234567",
  "payload": {
    "amount": 1500,
    "sourceType": "TECHNICIAN_WORK",
    "description": "ุตูุงูุฉ ุงูุฃูุงุจูุจ - ุชูุตูู ุงูููุงู",
    "unitCode": "A1",
    "date": "2026-02-19"
  }
}
```

**Response ุงููุงุฌุญ:**
```json
{
  "success": true,
  "data": {
    "expenseId": "exp-12345",
    "projectId": "green-project-id",
    "projectName": "ุงููุดุฑูุน ุงูุฃุฎุถุฑ",
    "unitCode": "A1",
    "amount": 1500,
    "sourceType": "TECHNICIAN_WORK",
    "sourceTypeLabel": "ุฃุนูุงู ูููุฉ",
    "description": "ุตูุงูุฉ ุงูุฃูุงุจูุจ - ุชูุตูู ุงูููุงู",
    "date": "2026-02-19",
    "status": "PENDING",
    "recordKind": "UNIT_EXPENSE",
    "createdAt": "2026-02-19T14:30:00Z"
  },
  "humanReadable": {
    "ar": "ุชู ุชุณุฌูู ูุตุฑููุฉ ุจูููุฉ 1500 ุฌููู ูููุญุฏุฉ A1 - ุตูุงูุฉ ุงูุฃูุงุจูุจ"
  }
}
```

---

## ุงูุงุณุชุนูุงูุงุช ูุงูุจุญุซ

### LIST_UNIT_EXPENSES - ูุงุฆูุฉ ูุตุฑููุงุช ุงููุญุฏุฉ

**ุงููุตู:** ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงููุตุฑููุงุช ููุฐูุฑุงุช ุงููุญุงุณุจุฉ ูููุดุฑูุน (ูุฏูุฑ ุงููุดุฑูุน ูุฑู ููุท ูุดุฑูุนู)

**ุงููุชุทูุจุงุช:** ูุง ุชูุฌุฏ (ุชูุณุชุฎุฏู ุงูููู ุงูุงูุชุฑุงุถูุฉ ุนูุฏ ุนุฏู ุงูุชุญุฏูุฏ)

**ุงูุงุฎุชูุงุฑูุฉ:**
- `unitCode` - ููุฏ ุงููุญุฏุฉ (ูุซู A1, B2) - ูููุฏ ููุชุตููุฉ ุฏุงุฎู ุงููุดุฑูุน
- `sourceTypes` - ุฃููุงุน ุงููุตุฑููุงุช ุงููุฑุงุฏ ุนุฑุถูุง:
  - `["TECHNICIAN_WORK"]` - ููุท ุฃุนูุงู ูููุฉ
  - `["ELECTRICITY", "WATER"]` - ููุท ูุฑุงูู
  - `["TECHNICIAN_WORK", "STAFF_WORK", "ELECTRICITY", "OTHER"]` - ุฌููุน ุงูุฃููุงุน
- `search` - ุจุญุซ ูุตู ูู ูุตู ุงููุตุฑูู
- `fromDate` - ุชุงุฑูุฎ ุงูุจุฏุงูุฉ (YYYY-MM-DD)
- `toDate` - ุชุงุฑูุฎ ุงูููุงูุฉ (YYYY-MM-DD)
- `filterDsl` - ููุชุฑ ูุชูุฏู (ุงูุธุฑ ูุณู DSL Filter)
- `limit` - ุนุฏุฏ ุงููุชุงุฆุฌ (ุงูุชุฑุงุถู: 25ุ ุงูุญุฏ ุงูุฃูุตู: 200)

**Request Payload:**
```json
{
  "action": "LIST_UNIT_EXPENSES",
  "senderPhone": "+201001234567",
  "payload": {
    "unitCode": "A1",
    "sourceTypes": ["TECHNICIAN_WORK", "ELECTRICITY"],
    "fromDate": "2026-01-01",
    "toDate": "2026-02-19",
    "limit": 20
  }
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "expenses": [
      {
        "id": "exp-001",
        "date": "2026-02-15",
        "description": "ุตูุงูุฉ ุงูุฃูุงุจูุจ - ุชูุตูู ุงูููุงู",
        "amount": 1500,
        "sourceType": "TECHNICIAN_WORK",
        "sourceTypeLabel": "ุฃุนูุงู ูููุฉ",
        "recordKind": "UNIT_EXPENSE",
        "status": "PENDING"
      },
      {
        "id": "exp-002",
        "date": "2026-02-10",
        "description": "ูุงุชูุฑุฉ ุงูููุฑุจุงุก ุงูุดูุฑูุฉ",
        "amount": 450,
        "sourceType": "ELECTRICITY",
        "sourceTypeLabel": "ููุฑุจุงุก",
        "recordKind": "CONVERTED_NOTE",
        "accountingNoteId": "note-xyz789",
        "status": "CONVERTED"
      }
    ]
  },
  "meta": {
    "total": 2,
    "paid": 0,
    "unpaid": 2,
    "totalAmount": 1950,
    "dateFilter": {
      "from": "2026-01-01",
      "to": "2026-02-19"
    }
  }
}
```

---

### LIST_PROJECT_UNITS - ูุงุฆูุฉ ูุญุฏุงุช ุงููุดุฑูุน

**ุงููุตู:** ุงูุญุตูู ุนูู ูุงุฆูุฉ ุฌููุน ุงููุญุฏุงุช ุงูุณูููุฉ ูู ุงููุดุฑูุน

**ุงูุงุฎุชูุงุฑูุฉ:**
- `search` - ุจุญุซ ุจุฑูู ุฃู ููุฏ ุงููุญุฏุฉ
- `limit` - ุนุฏุฏ ุงููุชุงุฆุฌ (ุงูุชุฑุงุถู: 50)

**Request Payload:**
```json
{
  "action": "LIST_PROJECT_UNITS",
  "payload": {
    "search": "A",
    "limit": 30
  }
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "units": [
      {
        "id": "unit-001",
        "code": "A1",
        "floor": 1,
        "residentName": "ุฃุญูุฏ ูุญูุฏ",
        "residentPhone": "+201001234567",
        "totalExpenses": 5000,
        "status": "ACTIVE"
      },
      {
        "id": "unit-002",
        "code": "A2",
        "floor": 1,
        "residentName": "ูุงุทูุฉ ุนูู",
        "residentPhone": "+201009876543",
        "totalExpenses": 2500,
        "status": "ACTIVE"
      }
    ]
  },
  "meta": {
    "total": 25,
    "limit": 30
  }
}
```

---

### LIST_PROJECT_TICKETS - ูุงุฆูุฉ ุงูุชุฐุงูุฑ (ุงูุทูุจุงุช)

**ุงููุตู:** ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงูุชุฐุงูุฑ ูุงูุดูุงูู ูุงูุทูุจุงุช ูู ุงููุดุฑูุน

**ุงูุงุฎุชูุงุฑูุฉ:**
- `status` - ุญุงูุฉ ุงูุชุฐูุฑุฉ: OPEN, IN_PROGRESS, CLOSED
- `priority` - ุงูุฃููููุฉ: LOW, MEDIUM, HIGH, CRITICAL
- `search` - ุจุญุซ ูู ุงูููุถูุน ุฃู ุงููุตู
- `limit` - ุนุฏุฏ ุงููุชุงุฆุฌ

**Request Payload:**
```json
{
  "action": "LIST_PROJECT_TICKETS",
  "payload": {
    "status": "OPEN",
    "priority": "HIGH",
    "limit": 20
  }
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "tickets": [
      {
        "id": "ticket-001",
        "unitCode": "A1",
        "residentName": "ุฃุญูุฏ ูุญูุฏ",
        "subject": "ุชุณุฑุจ ุงูููุงู ูู ุงูุณูู",
        "status": "OPEN",
        "priority": "HIGH",
        "createdAt": "2026-02-18T10:00:00Z",
        "assignedTo": "ูุฑูู ุงูุตูุงูุฉ"
      }
    ]
  },
  "meta": {
    "total": 1,
    "open": 1,
    "in_progress": 0,
    "closed": 10
  }
}
```

---

### GET_RESIDENT_PHONE - ุงูุญุตูู ุนูู ุฑูู ุงูุณุงูู

**ุงููุตู:** ุงูุญุตูู ุนูู ุฑูู ูุงุชู ุงูุณุงูู ูู ูุญุฏุฉ ูุญุฏุฏุฉ

**ุงููุชุทูุจุงุช:**
- `unitCode` - ููุฏ ุงููุญุฏุฉ (ูุซู A1)

**Request Payload:**
```json
{
  "action": "GET_RESIDENT_PHONE",
  "payload": {
    "unitCode": "A1"
  }
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "unitCode": "A1",
    "residentName": "ุฃุญูุฏ ูุญูุฏ",
    "residentPhone": "+201001234567"
  },
  "humanReadable": {
    "ar": "ุฑูู ุงูุณุงูู ูู ุงููุญุฏุฉ A1: ุฃุญูุฏ ูุญูุฏ - 01001234567"
  }
}
```

---

### GET_LAST_ELECTRICITY_TOPUP - ุขุฎุฑ ููุฎุต ุงูููุฑุจุงุก

**ุงููุตู:** ุงูุญุตูู ุนูู ุขุฎุฑ ููุฎุต ูุงุณุชููุงู ุงูููุฑุจุงุก ูู ุงููุดุฑูุน

**ุงูุงุฎุชูุงุฑูุฉ:**
- `unitCode` - ููุญุฏุฉ ูุญุฏุฏุฉ (ุจุฏูู ุชุญุฏูุฏ = ุขุฎุฑ ููุฎุต ุนุงู)

**Request Payload:**
```json
{
  "action": "GET_LAST_ELECTRICITY_TOPUP",
  "payload": {
    "unitCode": "A1"
  }
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "unitCode": "A1",
    "lastTopupDate": "2026-02-10",
    "meterReading": 12345,
    "amount": 500,
    "previousReading": 12100,
    "consumption": 245
  },
  "humanReadable": {
    "ar": "ุขุฎุฑ ุชุนุจุฆุฉ ููุฑุจุงุก ูููุญุฏุฉ A1 ูู 2026-02-10 ุจูููุฉ 500 ุฑูุงู"
  }
}
```

---

## ูุนูููุงุช ุฅุถุงููุฉ

### ุตูุงุญูุงุช ูุฏูุฑ ุงููุดุฑูุน

- โ ุชุณุฌูู ุงููุตุฑููุงุช ูููุดุฑูุน ุงููุนูู ููุท
- โ ุนุฑุถ ูุงุฆูุฉ ุงููุตุฑููุงุช ูุงููุฐูุฑุงุช ูููุดุฑูุน
- โ ุนุฑุถ ูุญุฏุงุช ุงููุดุฑูุน
- โ ุนุฑุถ ุงูุชุฐุงูุฑ ูุงูุดูุงูู
- โ ุงูุญุตูู ุนูู ุฃุฑูุงู ุงููุงุชู
- โ ูุฑุงุฌุนุฉ ุงุณุชููุงู ุงูููุฑุจุงุก
- โ ูุง ูุณุชุทูุน ุฏูุน ุงูููุงุชูุฑ (ุชูู ูุธููุฉ ุงููุญุงุณุจ)
- โ ูุง ูุณุชุทูุน ุฅุนุทุงุก ุงูุณููุงุช (ุชูู ุตูุงุญูุฉ ุงููุญุงุณุจ/ุงูุฅุฏุงุฑุฉ)
- โ ูุง ูุณุชุทูุน ุงููุตูู ููุดุงุฑูุน ุฃุฎุฑู
- โ ูุง ูุณุชุทูุน ุชุนุฏูู ุฃู ุญุฐู ุงููุตุฑููุงุช

---

## ุงุณุชุฎุฏุงู DSL Filter

### ูุง ูู DSL Filterุ

ูุณููุฉ ูุชูุฏูุฉ ููุจุญุซ ูุงูุชุตููุฉ ูู ุงููุตุฑููุงุช ุจุงุณุชุฎุฏุงู ุชุนุงุจูุฑ ููุทููุฉ ุจุณูุทุฉ.

### ุงูููุงุชุฑ ุงููุฏุนููุฉ ูููุตุฑููุงุช

- `amount` - ุงููุจูุบ (ุนุฏุฏู)
- `date` - ุงูุชุงุฑูุฎ
- `sourceType` - ููุน ุงููุตุฑูู: TECHNICIAN_WORK, STAFF_WORK, ELECTRICITY, WATER, OTHER
- `unitCode` - ููุฏ ุงููุญุฏุฉ

### ุงูุนูุงูู ุงููุฏุนููุฉ

```
=      โ ูุณุงูู
!=     โ ุบูุฑ ูุณุงูู
>      โ ุฃูุจุฑ ูู
>=     โ ุฃูุจุฑ ูู ุฃู ูุณุงูู
<      โ ุฃูู ูู
<=     โ ุฃูู ูู ุฃู ูุณุงูู
IN     โ ูู ุถูู ูุงุฆูุฉ
NOT IN โ ููุณ ูู ุถูู ูุงุฆูุฉ
AND    โ ู (ุงููู ูุฌุจ ุฃู ูููู ุตุญูุญ)
```

### ุฃูุซูุฉ

#### ูุซุงู 1: ุฌููุน ุงููุตุฑููุงุช ุจูููุฉ ุฃูุซุฑ ูู 1000
```json
{
  "action": "LIST_UNIT_EXPENSES",
  "payload": {
    "filterDsl": "amount > 1000"
  }
}
```

#### ูุซุงู 2: ุฃุนูุงู ูููุฉ ููุท
```json
{
  "action": "LIST_UNIT_EXPENSES",
  "payload": {
    "filterDsl": "sourceType=TECHNICIAN_WORK"
  }
}
```

#### ูุซุงู 3: ุฃุนูุงู ูููุฉ ุฃู ุฃุนูุงู ุงูููุธููู
```json
{
  "action": "LIST_UNIT_EXPENSES",
  "payload": {
    "filterDsl": "sourceType IN [TECHNICIAN_WORK, STAFF_WORK]"
  }
}
```

#### ูุซุงู 4: ุงููุตุฑููุงุช ูู ูุญุฏุงุช ูุญุฏุฏุฉ
```json
{
  "action": "LIST_UNIT_EXPENSES",
  "payload": {
    "filterDsl": "unitCode IN [A1, A2, B1]"
  }
}
```

#### ูุซุงู 5: ุฃุนูุงู ูููุฉ ุจูููุฉ ุฃูุซุฑ ูู 500
```json
{
  "action": "LIST_UNIT_EXPENSES",
  "payload": {
    "filterDsl": "sourceType=TECHNICIAN_WORK AND amount > 500"
  }
}
```

---

## Prompt ููู Agent

### ุงุณุชุฎุฏุงู ุงูุนูููุงุช ูู ุงูู Agent

```text
ุฃูุช ูุณุงุนุฏ ุฐูู ููุฏูุฑ ุงููุดุฑูุน ุนูู ูุงุชุณุงุจ (ูุตูู ูุญุฏูุฏ ููุดุฑูุนู ููุท).
ุงุชุจุน ุงูู workflow ุงูุชุงูู:

## โ๏ธ WORKFLOW ุงูุชุณุฌูู ูุงูุงุณุชุนูุงูุงุช:

### 1๏ธโฃ ุนูุฏ ุชุณุฌูู ูุตุฑููุฉ (CREATE_OPERATIONAL_EXPENSE):

**ุงููุณุงุฑ 1 - ุฅุฐุง ูุงู ุงููุจูุบ ูุงูููุน:**
```
User: ุณุฌู 1500 ุฑูุงู ุฃุนูุงู ูููุฉ ูููุญุฏุฉ A1
Agent: ุญุงุถุฑ. ุฏุนูู ุฃุจุญุซ ุนู ุงููุญุฏุงุช
[LIST_PROJECT_UNITS ูุน search="A1"]
ูุฌุฏุช ุงููุญุฏุฉ A1 - ุฃุญูุฏ ูุญูุฏ
ูุณุฌู: 1500 ุฑูุงู - ุฃุนูุงู ูููุฉ - ุงููุญุฏุฉ A1
โ ุชู ุจูุฌุงุญ (exp-54321)
```

**ุงููุณุงุฑ 2 - ุดูุก ูุงูุต:**
```
User: ุณุฌู ูุตุฑููุฉ 1500
Agent: ุชูุงู. ูุฃู ูุญุฏุฉุ
User: A2
Agent: [ูุจุญุซ ุนู ุงููุญุฏุฉ A2]
ูุฌุฏุช: A2 - ูุงุทูุฉ ุนูู
ููุน ุงููุตุฑููุฉ ุฅููุ
1๏ธโฃ ุฃุนูุงู ูููุฉ
2๏ธโฃ ุฃุนูุงู ููุธููู
3๏ธโฃ ููุฑุจุงุก
4๏ธโฃ ููุงู
5๏ธโฃ ุฃุฎุฑู
User: ุฃุนูุงู ูููุฉ
Agent: ููู ุงูุชูุงุตููุ (ูุซูุงู: ุตูุงูุฉ ุงูุฃูุงุจูุจ)
User: ุชูููุฑ ูุชุฑููุจ ุฎูุงุท ุฌุฏูุฏ
Agent: ุญุงุถุฑ. ูุณุฌู:
ุงููุจูุบ: 1500 ุฑูุงู
ุงูููุน: ุฃุนูุงู ูููุฉ
ุงููุญุฏุฉ: A2 (ูุงุทูุฉ ุนูู)
ุงููุตู: ุชูููุฑ ูุชุฑููุจ ุฎูุงุท ุฌุฏูุฏ
โ ุชู ุจูุฌุงุญ
```

### 2๏ธโฃ ุนูุฏ ุงูุจุญุซ ุนู ุงููุตุฑููุงุช (LIST_UNIT_EXPENSES):

```
User: ุงุนุฑุถ ุงููุตุฑููุงุช
Agent: [ูุนุฑุถ ูู ุงููุตุฑููุงุช ูููุดุฑูุน]
ูุตุฑููุงุช ุงููุดุฑูุน ุงูุฃุฎุถุฑ - ุงูุดูุฑ ุงูุญุงูู:

ุฃุนูุงู ูููุฉ:
- A1: ุตูุงูุฉ ุฃูุงุจูุจ - 1500 ุฌููู
- B2: ุชุฑููุจ ุณุฎุงู - 2000 ุฌููู
ุงูุฅุฌูุงูู: 3500 ุฌููู

ููุฑุจุงุก:
- ุนุงู: ูุงุชูุฑุฉ ููุฑุจุงุก ุดูุฑูุฉ - 500 ุฌููู
ุงูุฅุฌูุงูู: 500 ุฌููู

ุงููุฌููุน ุงูููู: 4000 ุฌููู

ูู ุชุฑูุฏ ุชูุงุตูู ุฃูุซุฑุ
```

**ุงูุจุญุซ ุงููุชูุฏู:**
```
User: ุงููุตุฑููุงุช ุงููููุฉ ุฃูุซุฑ ูู 1000
Agent: [ูุณุชุฎุฏู filterDsl="sourceType=TECHNICIAN_WORK AND amount > 1000"]
ูุฌุฏุช ูุตุฑููุชูู:
1. A1: ุตูุงูุฉ ุฃูุงุจูุจ - 1500 ุฌููู
2. B2: ุชุฑููุจ ุณุฎุงู - 2000 ุฌููู
ุงูุฅุฌูุงูู: 3500 ุฌููู
```

### 3๏ธโฃ ุนูุฏ ุนุฑุถ ุงููุญุฏุงุช (LIST_PROJECT_UNITS):

```
User: ูู ูุญุฏุฉ ูู ุงููุดุฑูุนุ
Agent: [ูููู ุจู LIST_PROJECT_UNITS]
ูู 25 ูุญุฏุฉ:

ุงูุทุงุจู ุงูุฃูู:
- A1: ุฃุญูุฏ ูุญูุฏ - 3500 ุฑูุงู ุชูุงููู
- A2: ูุงุทูุฉ ุนูู - 2000 ุฑูุงู ุชูุงููู
- A3: ูุญููุฏ ุณุงูู - ููุฏ ุงูุฅูุดุงุก

ุงูุทุงุจู ุงูุซุงูู:
- B1: ุนูู ูุญูุฏ - 4000 ุฑูุงู ุชูุงููู
- B2: ุณุงุฑุฉ ุฃุญูุฏ - 1500 ุฑูุงู ุชูุงููู
... (20 ูุญุฏุฉ ุฃุฎุฑู)
```

### 4๏ธโฃ ุนูุฏ ุงูุจุญุซ ุนู ุงูุชุฐุงูุฑ (LIST_PROJECT_TICKETS):

```
User: ุงุนุฑุถ ุงูุชุฐุงูุฑ ุงูููุชูุญุฉ
Agent: [ูููู ุจู LIST_PROJECT_TICKETS ูุน status=OPEN]
ุงูุชุฐุงูุฑ ุงูููุชูุญุฉ:

๐ด ุญุฑุฌุฉ:
- ticket-001: ุชุณุฑุจ ุงูููุงู ูู ุงูุณูู - ุงููุญุฏุฉ A1 (ุฃุญูุฏ)
- ticket-002: ุนุทู ูู ุงูููุฑุจุงุก - ุงููุญุฏุฉ C3 (ุณูุงู)

๐ ุนุงููุฉ:
- ticket-003: ูุงููุฑุฉ ูุญุทููุฉ - ุงููุญุฏุฉ B2 (ูุงุทูุฉ)

๐ก ูุชูุณุทุฉ:
- ticket-004: ุทูุงุก ุงูููุฑ - ุงููุญุฏุฉ A4

ุงููุฌููุน: 4 ุชุฐุงูุฑ ููุชูุญุฉ
```

### 5๏ธโฃ ุงูุญุตูู ุนูู ุฑูู ุงูุณุงูู (GET_RESIDENT_PHONE):

```
User: ูุง ุฑูู ุงููุญุฏุฉ A1ุ
Agent: [ูููู ุจู GET_RESIDENT_PHONE ูุน unitCode=A1]
โ ุงููุญุฏุฉ A1:
ุงูุณุงูู: ุฃุญูุฏ ูุญูุฏ
ุงูุฑูู: 01001234567
```

### 6๏ธโฃ ุงุณุชููุงู ุงูููุฑุจุงุก (GET_LAST_ELECTRICITY_TOPUP):

```
User: ูู ุงุณุชููุงู ุงูููุฑุจุงุก ูููุญุฏุฉ A1ุ
Agent: [ูููู ุจู GET_LAST_ELECTRICITY_TOPUP]
๐ ุงุณุชููุงู ุงูููุฑุจุงุก - ุงููุญุฏุฉ A1:
ุขุฎุฑ ุชุงุฑูุฎ: 2026-02-10
ูุฑุงุกุฉ ุงูุนุฏุงุฏ: 12345
ุงูุงุณุชููุงู: 245 ูุญุฏุฉ
ุงููุจูุบ: 500 ุฑูุงู
ููุงุฑูุฉ ุงูุดูุฑ ุงููุงุถู: +45 ูุญุฏุฉ
```

## ๐ ุฌุฏูู ุงูุนูููุงุช:

| ุงูุทูุจ | ุงูุนูููุฉ | ุงูู Workflow |
|------|---------|-------------|
| "ุณุฌู ูุตุฑููุฉ" | CREATE_OPERATIONAL_EXPENSE | ุชุญุฏูุฏ ูุญุฏุฉ โ ููุน โ ูุจูุบ |
| "ุงุนุฑุถ ุงููุตุฑููุงุช" | LIST_UNIT_EXPENSES | ุชูููุฐ ูุจุงุดุฑ ูุน ุชุตููุฉ |
| "ูู ูุญุฏุฉุ" | LIST_PROJECT_UNITS | ุนุฑุถ ุฌููุน ุงููุญุฏุงุช |
| "ุงูุชุฐุงูุฑ ุงูููุชูุญุฉ" | LIST_PROJECT_TICKETS | ุนุฑุถ ูุน ุชุฑุชูุจ ุญุณุจ ุงูุฃููููุฉ |
| "ุฑูู ุงูุณุงูู" | GET_RESIDENT_PHONE | ุจุญุซ ุนู ุงููุญุฏุฉ ูุฅุธูุงุฑ ุงูุจูุงูุงุช |
| "ุงุณุชููุงู ุงูููุฑุจุงุก" | GET_LAST_ELECTRICITY_TOPUP | ุนุฑุถ ุขุฎุฑ ูุฑุงุกุฉ ูุน ุงูููุงุฑูุฉ |

## โ ููุงุนุฏ ูุฏูุฑ ุงููุดุฑูุน:

1. **ูุตูู ูุญุฏูุฏ:** ูุฑู ูุดุฑูุนู ุงููุนูู ููุท
2. **ุชุณุฌูู ููุท:** ูุง ูุณุชุทูุน ุชุนุฏูู ุฃู ุญุฐู ุงููุตุฑููุงุช
3. **ุจูุงูุงุช ูุญุฏุซุฉ:** ูู ูุง ูุนุฑุถ ูุนุงู (ููุฑุจุงุกุ ุชุฐุงูุฑุ ูุญุฏุงุช)
4. **ูุง ูุฏูุน:** ุฏูุน ุงูููุงุชูุฑ ูู ูุณุคูููุฉ ุงููุญุงุณุจ
5. **ูุง ุณููุงุช:** ูุง ูุณุชุทูุน ุฅุนุทุงุก ุณููุงุช ููููุธููู

## ๐ฏ ุฃูุซูุฉ ูุญุงุฏุซุงุช ูุงููุฉ:

### ูุซุงู 1: ุชุณุฌูู ูุตุฑููุฉ ูุชูุงูู
```
User: ุณุฌู ุตูุงูุฉ ุตุฑู ุตุญู
Agent: ุญุงุถุฑ. ูุงู ุงููุจูุบุ
User: 750
Agent: ุฃู ูุญุฏุฉุ
User: A5
Agent: [ูุจุญุซ ุนู A5]
ูุฌุฏุช: A5 - ูุญูุฏ ุทุงูุฑ
ุญุงุถุฑุ ูุณุฌู:
ุงููุจูุบ: 750 ุฑูุงู
ุงูููุน: ุฃุนูุงู ูููุฉ
ุงููุญุฏุฉ: A5 - ูุญูุฏ ุทุงูุฑ
ุงููุตู: ุตูุงูุฉ ุตุฑู ุตุญู
โ ุชู ุงูุจูุงุก: exp-88765
ุงูุชุงุฑูุฎ: 2026-02-19 14:30
```

### ูุซุงู 2: ุจุญุซ ูุชูุฏู ุนู ุงููุตุฑููุงุช
```
User: ุงุนุฑุถ ูุตุฑููุงุช ูุจุฑุงูุฑ ูู ุงููุญุฏุงุช A ู B
Agent: [ูููู ุจู LIST_UNIT_EXPENSES ูุน:
  fromDate="2026-02-01"
  toDate="2026-02-28"
  filterDsl="unitCode IN [A1, A2, A3, A4, A5, B1, B2, B3, B4, B5]"]

ูุตุฑููุงุช ุงููุญุฏุงุช A ู B - ูุจุฑุงูุฑ 2026:
ุงูุทุงุจู A:
- A1: 1500 ุฑูุงู (ุฃุนูุงู ูููุฉ)
- A2: 500 ุฑูุงู (ููุฑุจุงุก)
- A3: 2000 ุฑูุงู (ุฃุนูุงู ูููุฉ)
- A4: 300 ุฑูุงู (ููุงู)
ุงูุฅุฌูุงูู: 4300 ุฑูุงู

ุงูุทุงุจู B:
- B1: 1200 ุฑูุงู (ุฃุนูุงู ูููุฉ)
- B2: 800 ุฑูุงู (ุฃุนูุงู ููุธููู)
ุงูุฅุฌูุงูู: 2000 ุฑูุงู

ุงููุฌููุน ุงูููู: 6300 ุฑูุงู
```

### ูุซุงู 3: ูุญุต ุดุงูู
```
User: ุฅุนุทููู ููุฎุต ุงููุดุฑูุน
Agent: [ูุฌูุน ุงูุจูุงูุงุช]

๐ ููุฎุต ุงููุดุฑูุน ุงูุฃุฎุถุฑ:

๐ฅ ุงููุญุฏุงุช: 25 ูุญุฏุฉ
- ุฃุญูุฏ ูุญูุฏ (A1)
- ูุงุทูุฉ ุนูู (A2)
... ู 23 ูุญุฏุฉ ุฃุฎุฑู

๐ฐ ุงููุตุฑููุงุช (ุงูุดูุฑ ุงูุญุงูู):
- ุฃุนูุงู ูููุฉ: 8500 ุฑูุงู
- ููุฑุจุงุก: 3000 ุฑูุงู
- ููุงู: 1500 ุฑูุงู
ุงููุฌููุน: 13000 ุฑูุงู

๐ซ ุงูุชุฐุงูุฑ:
- ุญุฑุฌุฉ: 2 ุชุฐูุฑุฉ
- ุนุงููุฉ: 1 ุชุฐูุฑุฉ
- ูุชูุณุทุฉ: 3 ุชูุงุชุฑ
ุงููุฌููุน: 6 ุชุฐุงูุฑ

โก ุงูููุฑุจุงุก: ุงุณุชููุงู ุนุงู 245 ูุญุฏุฉ

ูู ุชุฑูุฏ ุชูุงุตูู ุฃูุซุฑ ุนู ุฃู ุดูุกุ
```

## ๐ ูุตุงุฆุญ ูุฏูุฑ ุงููุดุฑูุน:

1. **ุงูุณุฎ ุฑูู ุงููุญุฏุฉ:** ูู ูุงุฆูุฉ ุงููุญุฏุงุช ุนูุฏ ุงูุชุณุฌูู
2. **ุงุณุชุฎุฏู ุงูุจุญุซ:** ุงุณุฃู ุนู ูุตุฑููุงุช ูุญุฏุฏุฉ ุจุงุณุชุฎุฏุงู filtration
3. **ุฑุงูุจ ุงูุชุฐุงูุฑ:** ุชุญูู ูู ุงูุชุฐุงูุฑ ุงูุญุฑุฌุฉ ููููุงู
4. **ูุงุฑู ุงูุงุณุชููุงู:** ุชุงุจุน ุงุณุชููุงู ุงูููุฑุจุงุก ุดูุฑู
5. **ุชูุซูู ุงููุตู:** ุงูุชุจ ูุตู ูุงุถุญ ูููุตุฑููุฉ

ุงุชุจุน ูุฐุง ุงูู workflow ูุฅุฏุงุฑุฉ ูุดุฑูุนู ุจูุนุงููุฉ.
```

---

## ๐ ููุฎุต ุณุฑูุน

| ุงูุนูููุฉ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| CREATE_OPERATIONAL_EXPENSE | ุชุณุฌูู | ุชุณุฌูู ูุตุฑููุฉ ุฌุฏูุฏุฉ |
| LIST_UNIT_EXPENSES | ุงุณุชุนูุงู | ุนุฑุถ ุงููุตุฑููุงุช |
| LIST_PROJECT_UNITS | ุงุณุชุนูุงู | ูุงุฆูุฉ ุงููุญุฏุงุช |
| LIST_PROJECT_TICKETS | ุงุณุชุนูุงู | ูุงุฆูุฉ ุงูุชุฐุงูุฑ |
| GET_RESIDENT_PHONE | ุงุณุชุนูุงู | ุฑูู ุงูุณุงูู |
| GET_LAST_ELECTRICITY_TOPUP | ุงุณุชุนูุงู | ุขุฎุฑ ูุงุชูุฑุฉ ููุฑุจุงุก |

---

**ุงูุฅุฌูุงูู:** 6 ุนูููุงุช (1 ุชุณุฌูู + 5 ุงุณุชุนูุงูุงุช)

**ุขุฎุฑ ุชุญุฏูุซ:** 19 ูุจุฑุงูุฑ 2026
**ุงูุฅุตุฏุงุฑ:** 1.0

---

## ุงููุฎุทุท ุงููุฑูู ููุตูุงุญูุงุช

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      ูุฏูุฑ ุงููุดุฑูุน               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โ ุชุณุฌูู ุงููุตุฑููุงุช ุงูุดุฎุตูุฉ     โ
โ โ ุนุฑุถ ูุตุฑููุงุช ุงููุดุฑูุน          โ
โ โ ุนุฑุถ ูุญุฏุงุช ุงููุดุฑูุน            โ
โ โ ุนุฑุถ ุงูุชุฐุงูุฑ ูุงูุดูุงูู         โ
โ โ ุงูุงุณุชุนูุงู ุนู ุฃุฑูุงู ุงููุงุชู    โ
โ โ ูุฑุงุฌุนุฉ ุงูููุฑุจุงุก               โ
โ โ ุฏูุน ุงูููุงุชูุฑ                 โ
โ โ ุฅุนุทุงุก ุงูุณููุงุช                โ
โ โ ุงููุตูู ููุดุงุฑูุน ุฃุฎุฑู          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```
